<!DOCTYPE html>
<html lang="en" ng-app="RCP">

<head>
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <title>个人中心</title>
    <meta name="keywords" content="个人中心"/>
    <meta name="description" content="个人中心"/>

    <script src="../config-dy/config-dy.js"></script>
    <!-- build:css my/my.min.css -->
    <!-- lib -->
    <link rel="stylesheet" href="../cropper/dist/cropper.css">
    <!-- common -->
    <link rel="stylesheet" href="../rcp-common/styles/common.css"/>
    <link rel="stylesheet" href="../rcp-common/styles/font-awesome.css">
    <!-- directive -->
    <link rel="stylesheet" href="../rcp-common/directive/common/common-dir.css"/>
    <link rel="stylesheet" href="../rcp-common/directive/head-tail/head-tail-dir.css"/>
    <link rel="stylesheet" href="../rcp-common/directive/upload-img-base64/upload-img-base64.css">
    <link rel="stylesheet" href="directive/location-select/location-select.css"/>
    <link rel="stylesheet" href="directive/interest-select/interest-select.css"/>
    <link rel="stylesheet" href="directive/head-tail-sso/head-tail-sso.css"/>
    <!-- my -->
    <link rel="stylesheet" href="my/my.css"/>
    <!-- endbuild -->
</head>

<body ng-controller="mainCtrl" class="bg-body-c">

<head-tail-sso config="{pageInfo:['用户中心',' | ','User Center']}" user-data="userInfo"></head-tail-sso>

<div ng-controller="myCtr">
    <!--<section class="my-top">-->
        <!--<div class="my-top-content">-->
            <!--<span>用户中心 | User Center</span>-->
            <!--<div class="logo">-->
                <!--<a ng-href="{{topSide.kuxiaoHost}}" target="_blank"><img ng-src="{{topSide.kuxiaoLogo}}" alt=""></a>-->
                <!--<span class="long"></span>-->
                <!--<a href="{{topSide.aikexueHost}}" target="_blank"><img ng-src="{{topSide.aikexueLogo}}" alt=""></a>-->
            <!--</div>-->
        <!--</div>-->
    <!--</section>-->

    <section class="g-m-w t-c">
        <div class="main-body">
            <div class="left-list">
                <div class="sidebar">
                    <ul>
                        <li ng-class="{'cur': curBar == 0}" ng-click="selectBar(0)">
                            <i class="fa fa-user" aria-hidden="true"></i>
                            <p>个人资料</p>
                        </li>
                        <li ng-class="{'cur': curBar == 1}" ng-click="selectBar(1)">
                            <i class="fa fa-key" aria-hidden="true"></i>
                            <p>账号设置</p>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="right-list">
                <div class="loading" ng-show="loaded">
                    <!-- 个人资料 -->
                    <div ng-show="curBar == 0">
                        <span class="title">个人资料</span>
                        <span class="my-tips">- 修改你的个人资料，可以让老师和同学了解和认识你！</span>

                        <div class="my-avatar">
                            <img ng-src="{{info.avatar}}" alt="用户头像" ng-click="uploadAvatar()"/>
                            <button ng-click="uploadAvatar()">修改头像</button>
                        </div>

                        <div class="choice-info">
                            <div class="lable">
                                <span class="choice-name">昵称：</span>
                                <span class="my-tips">- 这将是你在酷校和爱科学内使用的昵称</span>
                                <div class="choice">
                                    <input class="choice-input" type="text" maxlength="12" ng-model="info.nickName">
                                </div>
                            </div>
                            <div class="lable">
                                <span class="choice-name">签名：</span>
                                <span class="my-tips">- 一句话介绍你自己，建议少于16字</span>
                                <div class="choice">
                                    <input class="choice-input" type="text" maxlength="30" ng-model="info.desc">
                                </div>
                            </div>

                            <div class="lable">
                                <span class="choice-name">性别：</span>
                                <span class="my-tips">- 这可以让老师和同学更加了解你</span>
                                <div class="choice">
                                    <div class="choice-radio" ng-click="info.gender = 1">
                                        <input type="radio" ng-model="info.gender" ng-value="1">
                                        <span>男</span>
                                    </div>
                                    <div class="choice-radio m-l-25" ng-click="info.gender = 0">
                                        <input type="radio" ng-model="info.gender" ng-value="0">
                                        <span>女</span>
                                    </div>
                                </div>
                            </div>
                            <div class="lable">
                                <span class="choice-name">所在地：</span>
                                <span class="my-tips">-你来自何方呢？</span>
                                <div class="choice">
                                    <location-select data="info"></location-select>
                                </div>
                            </div>
                            <!--<div class="lable">
                                <span class="choice-name">兴趣爱好：</span>
                                <span class="my-tips">- 让老师根据你的兴趣爱好更好的了解你</span>
                                <div class="choice">
                                    <interest-select hobbys="info.hobby"></interest-select>
                                </div>
                            </div>-->
                            <p class="save-btn" ng-click="saveInfo()">确认修改</p>
                        </div>
                    </div>

                    <!-- 账号设置 -->
                    <div ng-show="curBar == 1">
                        <span class="title">账号设置</span>
                        <span class="my-tips">- 建议您通过以下方式提高账户安全性</span>
                        <div class="account-setting">
                            <div>
                                <h3 class="guide">手机号码：</h3>
                                <span class="text">{{phone ? '当前已绑定手机：' + phone : '当前还没绑定手机哦。'}}</span>
                                <button class="btn" ng-click="showForm(0)">{{phone ? '修改' : '绑定'}}</button>
                            </div>
                            <div class="choice-setting p-r" ng-show="showPhoneForm">
                                <form name="phoneForm">
                                    <div class="lable" ng-show="phone">
                                        <span class="setting-name">当前手机号</span>
                                        <div class="setting-choice">
                                            <input name="curPhone" class="input w-l" ng-model="phoneInfo.current" ng-class="{'wrong-input': phoneForm.curPhone.$error.pattern==true && curPhoneInput == -1 || !phoneInfo.current && phoneForm.curPhone.$error.pattern==false && curPhoneInput == -1}" type="text" ng-focus="curPhoneInput=1" ng-blur="curPhoneInput=-1" ng-pattern="phoneReg" maxlength="11"/>
                                            <span class="wrong-tips" ng-show="phoneForm.curPhone.$error.pattern==true  && curPhoneInput == -1">*请输入11位有效手机号</span>
                                            <span class="wrong-tips" ng-show="!phoneInfo.current && phoneForm.curPhone.$error.pattern==false && curPhoneInput == -1">*不能为空</span>
                                        </div>
                                    </div>
                                    <div class="lable">
                                        <span class="setting-name">新手机号</span>
                                        <div class="setting-choice">
                                            <input name="freshPhone" type="text"  class="input w-s" ng-model="phoneInfo.fresh"  ng-class="{'wrong-input': phoneForm.freshPhone.$error.pattern==true && freshPhoneInput == -1 || !phoneInfo.fresh && phoneForm.freshPhone.$error.pattern==false && freshPhoneInput == -1}"  ng-focus="freshPhoneInput=1" ng-blur="freshPhoneInput=-1" ng-pattern="phoneReg" maxlength="11"/>
                                            <span class="wrong-tips" ng-show="phoneForm.freshPhone.$error.pattern==true  && freshPhoneInput == -1">*请输入11位有效手机号</span>
                                            <span class="wrong-tips" ng-show="!phoneInfo.fresh && phoneForm.freshPhone.$error.pattern==false && freshPhoneInput == -1">*不能为空</span>
                                            <span class="verification" ng-click="verify(0)" ng-class="{'orange-bg': !verifyPhone.isTime, 'gray-bg': verifyPhone.isTime, 'c-p': !verifyPhone.isTime}">{{verifyPhone.isTime ? verifyPhone.time + 's' : '获取验证码'}}</span>
                                        </div>
                                    </div>
                                    <div class="lable">
                                        <span class="setting-name">手机验证码</span>
                                        <div class="setting-choice">
                                            <input class="input w-s" type="text" ng-model="phoneInfo.verification"  ng-class="{'wrong-input': !phoneInfo.verification && verifyPhoneInput == -1}"  ng-focus="verifyPhoneInput=1" ng-blur="verifyPhoneInput=-1"/>
                                            <span class="wrong-tips" ng-show="!phoneInfo.verification && verifyPhoneInput == -1">*不能为空</span>
                                        </div>
                                    </div>
                                    <div class="lable">
                                        <button class="ok-btn" ng-click="bindPhone()">确认修改</button>
                                        <button class="cancle-btn" ng-click="cancel(0)">取消</button>
                                    </div>
                                </form>
                                <!--<div class="help">
                                    <span>遇到问题？请</span>
                                    <a href="">联系客服</a>
                                </div>-->
                            </div>
                            <div class="m-t-30">
                                <h3 class="guide">修改密码：</h3>
                                <span class="text">{{phone ? '经常修改密码，账号信息更安全！' : '为了您的账号信息更安全，请先绑定手机再修改密码哦。'}}</span>
                                <button class="btn" ng-disabled="!phone" ng-click="showForm(1)">修改</button>
                            </div>
                            <div class="choice-setting" ng-show="showPassForm && phone">
                                <form name="passForm">
                                    <div class="lable">
                                        <span class="setting-name">你绑定的手机</span>
                                        <div class="setting-choice">
                                            <input class="input w-s" type="text" disabled="disabled" ng-model="phone"/>
                                            <span class="verification" ng-click="verify(1)"  ng-class="{'orange-bg': !verifyPass.isTime, 'gray-bg': verifyPass.isTime, 'c-p': !verifyPass.isTime}">{{verifyPass.isTime ? verifyPass.time + 's' : '获取验证码'}}</span>
                                        </div>
                                    </div>
                                    <div class="lable">
                                        <span class="setting-name">手机验证码</span>
                                        <div class="setting-choice">
                                            <input class="input w-s" type="text" ng-model="passInfo.verification"  ng-class="{'wrong-input': !passInfo.verification && verifyPassInput == -1}"  ng-focus="verifyPassInput=1" ng-blur="verifyPassInput=-1"/>
                                            <span class="wrong-tips" ng-show="!passInfo.verification && verifyPassInput == -1">*不能为空</span>
                                        </div>
                                    </div>
                                    <div class="lable">
                                        <span class="setting-name">新密码</span>
                                        <div class="setting-choice">
                                            <input name="freshPass" class="input w-ss p-r-36" type="{{showPass ? 'text' : 'password'}}" ng-model="passInfo.fresh" ng-class="{'wrong-input': passForm.freshPass.$error.pattern == true  && freshPassInput == -1 || !passInfo.fresh && passForm.freshPass.$error.pattern==false && freshPassInput == -1}" ng-pattern="passReg" ng-focus="freshPassInput = 1" ng-blur="freshPassInput = -1" maxlength="15"/>
                                            <i class="fa fa-lg fa-eye eye" ng-class="{'eye-gray': !showPass, 'eye-blue': showPass}" ng-click="showPass = !showPass" aria-hidden="true"></i>
                                            <span class="wrong-tips" ng-show="passForm.freshPass.$error.pattern==true  && freshPassInput == -1">*输入6到15位有效字符</span>
                                            <span class="wrong-tips" ng-show="!passInfo.fresh && passForm.freshPass.$error.pattern==false && freshPassInput == -1">*不能为空</span>
                                        </div>
                                    </div>
                                    <div class="lable">
                                        <button class="ok-btn" ng-click="resetPass()">确认修改</button>
                                        <button class="cancle-btn" ng-click="cancel(1)">取消</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                </div>
                <loader-ui show="loaded"></loader-ui>
            </div>
        </div>
        <upload-img-base upload-config="uploadConfig"></upload-img-base>
    </section>
</div>

<!--<chat getscope="getscope"></chat>-->
<tailnav></tailnav>

<!-- lib -->
<script src="../rcp-common/service/lib-default.min.js"></script>
<!-- lib end -->
<!-- build:js my/my.min.js -->
<!-- lib -->
<script src="../cropper/dist/cropper.js"></script>
<!-- logic js -->
<script src="my/my.js"></script>
<!-- main controller -->
<script src="../rcp-common/module/main/main-ctrl.js"></script>
<!-- service -->
<script src="service/sso.js"></script>
<!-- directive -->
<script src="../rcp-common/directive/head-tail/head-tail-dir.js"></script>
<script src="../rcp-common/directive/upload-img-base64/upload-img-base64.js"></script>
<script src="directive/location-select/location-select.js"></script>
<script src="directive/head-tail-sso/head-tail-sso.js"></script>
<!--<script src="directive/interest-select/interest-select.js"></script>-->
<!-- endbuild -->
<!-- service -->
<script src="../rcp-common/service/service.min.js"></script>
</body>

</html>
