function isIE(e,t){var n,a=window.navigator.userAgent.toLowerCase();if(-1!=a.indexOf("msie")){var i=a.match(/msie\s([0-9]*)/);n=0===arguments.length?i[1]:1===arguments.length?parseInt(i[1])===e:i[1]>=e&&i[1]<=t?i[1]:!1}return n}function QueryStringByName(e){var t=window.location.search.match(new RegExp("[?&]"+e+"=([^&]+)","i"));return null==t||t.length<0?"":decodeURIComponent(t[1])}function GetCookie(e){for(var t=document.cookie.split("; "),n=0;n<t.length;n++){var a=t[n].split("=");if(e==a[0])return a[1]?unescape(a[1]||""):QueryStringByName("token")}return null}function GetToken(){try{return UINFO.token}catch(e){var t=QueryStringByName("token");return t||(t=GetCookie("token")),t}}!function(e){e.rcpAid=function(){if(e.rcpAid)return e.rcpAid;var t=function(){},n=[];n.slice;return t.fn=t.prototype,t.fn.isLogin=0,t.fn.getPage=function(e){if("string"!=typeof e)return"";var t="",n=DYCONFIG.rcp.rUrl;switch(e){case"首页":t=n;break;case"登录":t=DYCONFIG.sso.login;break;case"退出":t=DYCONFIG.sso.logout;break;case"注册":t=DYCONFIG.sso.register;break;case"搜索":t=n+"search.html";break;case"分类":t="/search.html";break;case"个人设置":t="/sso/my.html";break;case"学习中心":t="/space/student-space.html";break;case"教学中心":t="/space/teacher-space.html";break;case"助学中心":t="/guidance-space.html";break;case"老师认证":t="/sso/apply-space.html";break;case"实名认证":t="/sso/apply-space.html";break;case"家长空间":t="/parentSpace.html";break;case"班级空间":t="/classSpace.html";break;case"学校空间":t="/schoolSpace.html";break;case"机构空间":t="/organizationSpace.html";break;case"用户管理":t="/userManager.html";break;case"审核管理":t="/sso/management-center.html";break;case"课程详情":t="/course/course-detail.html";break;case"题库详情":t="/course/course-detail.html";break;case"创建课程":t="/course/course-edit.html";break;case"创建题库":t="/course/course-edit.html";break;case"人员管理":t="/sso/management-center.html";break;case"学习页":t="/course/pc-course-learning.html";break;case"圈子详情":t="/study-circle/study-circle-detail.html";break;case"全部圈子":t="/study-circle/study-circle-total.html";break;case"做题页":t="/course/exam.html";break;case"解析页":t="/course/exam-resolve-view.html";break;case"批改页":t="/course/exam-correcting.html";break;case"管理中心":t="/sso/management-center.html";break;case"我要吐槽":t="/discuss-page.html";break;case"吐槽帖子详情":t="/discuss-detail.html"}return t},t.fn.getUrl=function(t,n){var a=e.rcpAid,i=a.getPage(t),r=typeof n;switch(r){case"object":i+="?",a.each(n,function(e,t){i+=t+"="+(e||"")+"&"}),i=i.substring(0,i.length-1);break;case"string":i+=n}return i},t.fn.css3=function(){var t={check:function(){var t=e.rcpAid,n=document.createElement("div"),a="webkitTransition mozAnimation oAnimation msAnimation animation".split(" "),i=!1;return t.each(a,function(e){e in n.style&&(i=!0)}),i},callBack:function(t,n,a){function i(){"function"==typeof a&&a(),r.each(n,function(e){t.addEventListener(e,i,!1),t.removeEventListener(e,i,!1)})}var r=e.rcpAid;r.each(n,function(e){t.addEventListener(e,i,!1)})},animatedEnd:function(e,t){this.callBack(e,["webkitAnimationEnd","mozAnimationEnd","MSAnimationEnd","oanimationend","animationend"],t)},transitionEnd:function(e,t){this.callBack(e,["webkitTransitionEnd","mozTransitionEnd","MSTransitionEnd","otransitionend","transitionend"],t)},css3Animate:function(e,t,n){this.check()?($(e).addClass(t),this.animatedEnd(e,function(){$(e).removeClass(t),"function"==typeof n&&n.call(e)})):"function"==typeof n&&n.call(e)}};return t}(),t.fn.each=function(e,t){if("object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&"function"==typeof t&&t(e[n],n)},t.fn.queryString=function(e){var t=window.location.search.match(new RegExp("[?&]"+e+"=([^&]+)","i"));return t?decodeURIComponent(t[1]):""},t.fn.getToken=function(){return this.getCookie("token")||this.queryString("token")},t.fn.getCookie=function(e){try{return UINFO.token}catch(t){for(var n=document.cookie.split("; "),a=0;a<n.length;a+=1){var i=n[a].split("=");if(e===i[0])return unescape(i[1]||"")}}},t.fn.loginStatus=function(){return this.getToken("token")},t.fn.checkLogin=function(){try{if(console.log(UINFO),!UINFO.uid){var e=this.queryString("token");return e?{urlToken:e}:0}return UINFO}catch(t){return UINFO={},this.queryString("token")?(console.log("urlToken"),{urlToken:this.queryString("token")}):(console.log("读取用户信息出错！"),0)}},t.fn.countTime=function(e,t,n){if("s"!==t&&(e=1e-9*e),1>e)return 0;var a={d:"天",h:"时",min:"分",s:"秒"};"en"===n&&(a={d:"d",h:"h",min:"min",s:"s"});var i={day:0,hour:0,min:0,sec:0},r=e;i.day=parseInt(r/86400),r%=86400,i.hour=parseInt(r/3600),r%=3600,i.min=parseInt(r/60),r%=60,i.sec=parseInt(r);var o=i,s="";return o.day&&(s+=o.day+a.d),o.hour&&(s+=o.hour+a.h),o.min&&(s+=o.min+a.min),o.sec&&(s+=o.sec+a.s),""===s&&(s="0"),s},t.fn.getNoTokenUrl=function(){var e=location.href,t=/[\?\&]token=([^\&]+)/gi;return e=e.replace(t,"")},t.fn.getCourseCat=function(){try{var e=JSON.parse(DYCONFIG.COURSE_CAT),t=window.location.origin;return t||(t=window.location.hostname+window.location.host),e[t.replace("http://","")]||2}catch(n){return 1}},t.fn.isIE=function(e,t){var n,a=window.navigator.userAgent.toLowerCase();if(-1!=a.indexOf("msie")){var i=a.match(/msie\s([0-9]*)/);n=0===arguments.length?i[1]:1===arguments.length?parseInt(i[1])===e:i[1]>=e&&i[1]<=t?i[1]:!1}return n},t.fn.detectOS=function(){var e={};return e.ua=navigator.userAgent,e.uaTLC=e.ua.toLowerCase(),e.platform=navigator.platform,e.isCrosswalk=navigator.userAgent.indexOf("Crosswalk")>-1,e.isLinux=String(e.platform).indexOf("Linux")>-1,e.isWin="Win32"===e.platform,e.isMac="Mac68K"===e.platform,e.isUnix="X11"===e.platform&&!e.isWin&&!e.isMac,e.isSymbian="SymbianOS"===e.platform,e.bIsCE=e.uaTLC.match(/windows ce/i),e.bIsWM=e.uaTLC.match(/windows mobile/i),e.bIsAndroid=e.uaTLC.match(/android/i),e.bIsIpad=e.uaTLC.match(/ipad/i),e.bIsIphoneOs=e.uaTLC.match(/iphone os/i),e.bIsMidp=e.uaTLC.match(/midp/i),e.bIsUc7=e.uaTLC.match(/rv:1.2.3.4/i),e.bIsUc=e.uaTLC.match(/ucweb/i),e.mobile=!!(e.bIsIpad||e.bIsIphoneOs||e.bIsMidp||e.bIsUc7||e.bIsUc||e.bIsAndroid||e.bIsCE||e.bIsWM||e.isSymbian),e.pc=!e.mobile,e.name=e.bIsIpad?"iPad":e.bIsIphoneOs?"iPhone":e.bIsMidp?"midp":e.bIsUc7?"Uc7":e.bIsUc?"Ucweb":e.isMac?"Mac":e.isLinux?e.bIsAndroid?"Android":"Linux":e.isSymbian?"SymbianOS":e.bIsCE||e.bIsWM?"wm":"other",e.isWin&&(e.isWin2K=e.ua.indexOf("Windows NT 5.0")>-1||e.ua.indexOf("Windows 2000")>-1,e.isWinXP=e.ua.indexOf("Windows NT 5.1")>-1||e.ua.indexOf("Windows XP")>-1,e.isWin2003=e.ua.indexOf("Windows NT 5.2")>-1||e.ua.indexOf("Windows 2003")>-1,e.isWinVista=e.ua.indexOf("Windows NT 6.0")>-1||e.ua.indexOf("Windows Vista")>-1,e.isWin7=e.ua.indexOf("Windows NT 6.1")>-1||e.ua.indexOf("Windows 7")>-1,e.isWin8=e.ua.indexOf("Windows NT 6.2")>-1||e.ua.indexOf("Windows 8")>-1,e.isWin10=e.ua.indexOf("Windows NT 10")>-1||e.ua.indexOf("Windows 10")>-1,e.name=e.isWin2K?"Win2000":e.isWinXP?"WinXP":e.isWin2003?"Win2003":e.isWinVista?"WinVista":e.isWin7?"Win7":e.isWin8?"Win8":e.isWin10?"win10":"other"),e},t.fn.clearFile=function(e){var t=document.getElementById(e);t&&(t.outerHTML?t.outerHTML=t.outerHTML:t.value="")},new t}()}(window),function(e,t){var n=!1;isIE()<9&&(n=!0);for(var a="",i=DYCONFIG.domain||[],r=0;r<i.length;r++)i[r].domain===location.host&&(a=i[r].domainNum);if(n){var o='<html style="background-color:#e2e2e2;"><head><meta charset="utf-8"></head><body><div id="browser-not-support" style="background: #e2e1e2;height:100%;position: absolute;top:0;left:0;right:0;z-index:999999;"><div style="width: 1000px; text-align:center;margin:auto;position:relative"><div style="background: url(/rcp-common/imgs/common/browser_03.jpg);width:756px;height:520px;margin:auto;padding: 40px 0 20px;"></div><div style="text-align:center;padding: 0 200px;margin-top: 20px;"><a href="http://rj.baidu.com/soft/detail/14744.html" style="display: block; float: left;width: 200px;color:#233344;text-decoration: none;" target="_blank"><img src="/rcp-common/imgs/icon/browser_07.png" alt=""><p>谷歌浏览器<br><span style="color: #fe3a20">（强烈推荐）</span></p></a><a href="http://rj.baidu.com/soft/detail/11843.html" style="display: block; float: left;width: 200px;color:#233344;text-decoration: none;" target="_blank"><img src="/rcp-common/imgs/icon/browser_09.png" alt=""><p>火狐浏览器</p></a><a href="http://rj.baidu.com/soft/detail/23357.html" style="display: block; float: left;width: 200px;color:#233344;text-decoration: none;" target="_blank"><img src="/rcp-common/imgs/icon/browser_11.png" alt=""><p>Internet Explorer 10+</p></a><div style="clear: both;"></div></div><p style="color:#35383b;font-size:16px;padding: 50px 0 20px;">© 2009-2015 广州市大洋信息技术股份有限公司 '+a+"</p></div></div></body></html>";window.onload=function(){document.write(o)}}var s=e.mobileUpgradeStyle;t.runErrorCallUpgrade=function(){console.log(t.loadReady),t.loadReady||e.notCheckUpgrade||(t.upgradeLock=!0,t.querySelector("html").style.display="none")},e.addEventListener("load",function(){t.loadReady=!0,t.upgradeLock&&t.write(["<html style=\"background:white url('/rcp-common/imgs/icon/upgrade-bg.png') no-repeat center 80px;"+(s?"background-size:150% auto;":"")+'">',"<head>",'<meta charset="utf-8">',"</head>",'<body style="'+(s?"padding:125% 0 80px;":"padding:560px 0 80px;")+'">','<div style="'+(s?"font:12px 'Microsoft YaHei';":"font:28px 'Microsoft YaHei';")+'color:#666;text-align:center;">啊哦，系统升级中,我们正在紧急处理，稍后再来哦！</div>',"</body>","</html>"].join(""))},!1),e.console||(e.console={log:function(){},error:function(){},info:function(){},warn:function(){}})}(window,document),function(e,t){function n(e,t){var n,a=window.navigator.userAgent.toLowerCase();if(-1!=a.indexOf("msie")){var i=a.match(/msie\s([0-9]*)/);n=0==arguments.length?i[1]:1==arguments.length?parseInt(i[1])==e:i[1]>=e&&i[1]<=t?i[1]:!1}return n}var a;$(function(){n()||(e.addEventListener("beforeunload",function(){a=!0},!1),e.addEventListener("mousedown",function(){a=!1},!1))});var i=/hp-tablet/gi.test(navigator.appVersion),r="ontouchstart"in window&&!i,o=r?"touchstart":"mousedown",s=r?"touchmove":"mousemove",c=r?"touchend":"mouseup",l="touchcancel";this._Tween={Linear:function(e,t,n,a){return n*e/a+t},Quad:{easeIn:function(e,t,n,a){return n*(e/=a)*e+t},easeOut:function(e,t,n,a){return-n*(e/=a)*(e-2)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}},Cubic:{easeIn:function(e,t,n,a){return n*(e/=a)*e*e+t},easeOut:function(e,t,n,a){return n*((e=e/a-1)*e*e+1)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}},Quart:{easeIn:function(e,t,n,a){return n*(e/=a)*e*e*e+t},easeOut:function(e,t,n,a){return-n*((e=e/a-1)*e*e*e-1)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t}},Quint:{easeIn:function(e,t,n,a){return n*(e/=a)*e*e*e*e+t},easeOut:function(e,t,n,a){return n*((e=e/a-1)*e*e*e*e+1)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t}},Sine:{easeIn:function(e,t,n,a){return-n*Math.cos(e/a*(Math.PI/2))+n+t},easeOut:function(e,t,n,a){return n*Math.sin(e/a*(Math.PI/2))+t},easeInOut:function(e,t,n,a){return-n/2*(Math.cos(Math.PI*e/a)-1)+t}},Expo:{easeIn:function(e,t,n,a){return 0==e?t:n*Math.pow(2,10*(e/a-1))+t},easeOut:function(e,t,n,a){return e==a?t+n:n*(-Math.pow(2,-10*e/a)+1)+t},easeInOut:function(e,t,n,a){return 0==e?t:e==a?t+n:(e/=a/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(-Math.pow(2,-10*--e)+2)+t}},Circ:{easeIn:function(e,t,n,a){return-n*(Math.sqrt(1-(e/=a)*e)-1)+t},easeOut:function(e,t,n,a){return n*Math.sqrt(1-(e=e/a-1)*e)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t}},Elastic:{easeIn:function(e,t,n,a,i,r){if(0==e)return t;if(1==(e/=a))return t+n;if(r||(r=.3*a),!i||i<Math.abs(n)){i=n;var o=r/4}else var o=r/(2*Math.PI)*Math.asin(n/i);return-(i*Math.pow(2,10*(e-=1))*Math.sin((e*a-o)*(2*Math.PI)/r))+t},easeOut:function(e,t,n,a,i,r){if(0==e)return t;if(1==(e/=a))return t+n;if(r||(r=.3*a),!i||i<Math.abs(n)){i=n;var o=r/4}else var o=r/(2*Math.PI)*Math.asin(n/i);return i*Math.pow(2,-10*e)*Math.sin((e*a-o)*(2*Math.PI)/r)+n+t},easeInOut:function(e,t,n,a,i,r){if(0==e)return t;if(2==(e/=a/2))return t+n;if(r||(r=a*(.3*1.5)),!i||i<Math.abs(n)){i=n;var o=r/4}else var o=r/(2*Math.PI)*Math.asin(n/i);return 1>e?-.5*(i*Math.pow(2,10*(e-=1))*Math.sin((e*a-o)*(2*Math.PI)/r))+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*a-o)*(2*Math.PI)/r)*.5+n+t}},Back:{easeIn:function(e,t,n,a,i){return void 0==i&&(i=1.70158),n*(e/=a)*e*((i+1)*e-i)+t},easeOut:function(e,t,n,a,i){return void 0==i&&(i=1.70158),n*((e=e/a-1)*e*((i+1)*e+i)+1)+t},easeInOut:function(e,t,n,a,i){return void 0==i&&(i=1.70158),(e/=a/2)<1?n/2*(e*e*(((i*=1.525)+1)*e-i))+t:n/2*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)+t}},Bounce:{easeIn:function(e,t,n,a){return n-_Tween.Bounce.easeOut(a-e,0,n,a)+t},easeOut:function(e,t,n,a){return(e/=a)<1/2.75?n*(7.5625*e*e)+t:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOut:function(e,t,n,a){return a/2>e?.5*_Tween.Bounce.easeIn(2*e,0,n,a)+t:.5*_Tween.Bounce.easeOut(2*e-a,0,n,a)+.5*n+t}}},this.jf=this.jf||{isIE:n,browseCheck:function(){var e,t={},n={},a=navigator.userAgent.toLowerCase();(e=a.match(/msie ([\d.]+)/))?n.ie=e[1]:(e=a.match(/firefox\/([\d.]+)/))?n.firefox=e[1]:(e=a.match(/chrome\/([\d.]+)/))?n.chrome=e[1]:(e=a.match(/opera.([\d.]+)/))?n.opera=e[1]:(e=a.match(/version\/([\d.]+).*safari/))?n.safari=e[1]:0;for(var i in n)t.edition=i+":"+n[i],t.name=i;return t},detectOS:function(){var e={};return e.ua=navigator.userAgent,e.uaTLC=e.ua.toLowerCase(),e.platform=navigator.platform,e.isLinux=String(e.platform).indexOf("Linux")>-1,e.isWin="Win32"===e.platform,e.isMac="Mac68K"===e.platform,e.isUnix="X11"===e.platform&&!e.isWin&&!e.isMac,e.isSymbian="SymbianOS"===e.platform,e.bIsCE=e.uaTLC.match(/windows ce/i),e.bIsWM=e.uaTLC.match(/windows mobile/i),e.bIsAndroid=e.uaTLC.match(/android/i),e.bIsIpad=e.uaTLC.match(/ipad/i),e.bIsIphoneOs=e.uaTLC.match(/iphone os/i),e.bIsMidp=e.uaTLC.match(/midp/i),e.bIsUc7=e.uaTLC.match(/rv:1.2.3.4/i),e.bIsUc=e.uaTLC.match(/ucweb/i),e.mobile=!!(e.bIsIpad||e.bIsIphoneOs||e.bIsMidp||e.bIsUc7||e.bIsUc||e.bIsAndroid||e.bIsCE||e.bIsWM||e.isSymbian),e.pc=!e.mobile,e.name=e.bIsIpad?"iPad":e.bIsIphoneOs?"iPhone":e.bIsMidp?"midp":e.bIsUc7?"Uc7":e.bIsUc?"Ucweb":e.isMac?"Mac":e.isLinux?e.bIsAndroid?"Android":"Linux":e.isSymbian?"SymbianOS":e.bIsCE||e.bIsWM?"wm":"other",e.isWin&&(e.isWin2K=e.ua.indexOf("Windows NT 5.0")>-1||e.ua.indexOf("Windows 2000")>-1,e.isWinXP=e.ua.indexOf("Windows NT 5.1")>-1||e.ua.indexOf("Windows XP")>-1,e.isWin2003=e.ua.indexOf("Windows NT 5.2")>-1||e.ua.indexOf("Windows 2003")>-1,e.isWinVista=e.ua.indexOf("Windows NT 6.0")>-1||e.ua.indexOf("Windows Vista")>-1,e.isWin7=e.ua.indexOf("Windows NT 6.1")>-1||e.ua.indexOf("Windows 7")>-1,e.isWin8=e.ua.indexOf("Windows NT 6.2")>-1||e.ua.indexOf("Windows 8")>-1,e.name=e.isWin2K?"Win2000":e.isWinXP?"WinXP":e.isWin2003?"Win2003":e.isWinVista?"WinVista":e.isWin7?"Win7":e.isWin8?"Win8":"other"),e},winScaleData:function(){var e={},t=this.detectOS();return e.sT=document.documentElement.scrollTop||document.body.scrollTop,e.sL=document.documentElement.scrollLeft||document.body.scrollLeft,e.sH=document.documentElement.scrollHeight||document.body.scrollHeight,e.cH=document.documentElement.clientHeight||document.body.clientHeight,e.sW=document.documentElement.scrollWidth||document.body.scrollWidth,e.cW=document.documentElement.clientWidth||document.body.clientWidth,e.minW=t.mobile?parseInt(jf.getStyle(document.body,"minWidth")):e.cW,e.minH=t.mobile?Math.ceil(e.cH+-(e.cW-e.minW)/e.cW*e.cH):e.cH,e.scale=e.cW/e.minW,e},css3Check:function(){for(var e=document.createElement("div"),t=new String("webkitTransition mozAnimation oAnimation msAnimation animation").split(" "),n=0;n<t.length;n++)if(t[n]in e.style)return!0;return!1},css3CallBack:function(e,t,n){function a(){n();for(var i=0;i<t.length;i++)e.removeEventListener(t[i],a,!1)}for(var i=0;i<t.length;i++)e.addEventListener(t[i],a,!1)},css3AnimatedEnd:function(e,t){this.css3CallBack(e,["webkitAnimationEnd","mozAnimationEnd","MSAnimationEnd","oanimationend","animationend"],t)},css3TransitionEnd:function(e,t){this.css3CallBack(e,["webkitTransitionEnd","mozTransitionEnd","MSTransitionEnd","otransitionend","transitionend"],t)},stopDefault:function(e){return e&&e.preventDefault?e.preventDefault():window.event.returnValue=!1,!1},stopBubble:function(e){return e&&e.stopPropagation?e.stopPropagation():window.event.cancelBubble=!0,!1},domElemBit:function(e,t,n){function a(){u=new Date,r=u-l,r>=o?r=o:null,document.documentElement.scrollTop=document.body.scrollTop=Math.ceil(_Tween[t.mode][t.effect](r,s,c,o)),r>=o&&clearInterval(e.domElemBitTimer)}clearInterval(e.domElemBitTimer);var i=jf.pageY(e)-("negNum"in t?t.negNum:0),r=0,o=n,s=document.documentElement.scrollTop||document.body.scrollTop,c=-(s-i),l=new Date,u=new Date;e.domElemBitTimer=setInterval(a,1)},jsonExtend:function(e,t,n){if(t instanceof Array)for(var a=0,i=t.length;i>a;a++)this.jsonExtend(e,t[a],n);for(var a in t)!n&&a in e||(e[a]=t[a]);return e},getQueryString:function(e){var t=new RegExp(e+"=([^&]*)"),n=window.location.href.match(t);return null!=n?decodeURI(n[1]):null},getStyle:function(e,t){return e.currentStyle?e.currentStyle[t]:getComputedStyle(e,!1)[t]},animate:function(e,t,n,a,i){clearInterval(e.timer);var r={};r.startTime=new Date,r.nowTime=new Date,r.mode=t.mode,r.effect=t.effect,r.t=0,r.d="fast"==a?300:"slow"==a?800:"normal"==a?500:a||500,r.b=[],r.c=[],r.tagVal=[],r.attr=[];for(key in n){var o="opacity"==key?100*parseFloat(jf.getStyle(e,key)):parseFloat(jf.getStyle(e,key));r.b.push(o),r.c.push(-(o-n[key])),r.tagVal.push(n[key]),r.attr.push(key)}r.offLen=r.attr.length;var s=function(t,n){var a=n?r.tagVal[t]:c(t);switch(r.attr[t]){case"opacity":e.style[r.attr[t]]=a/100,e.style.filter="alpha(opacity="+a+")";break;default:e.style[r.attr[t]]=a+"px"}},c=function(e){return Math.ceil(_Tween[r.mode][r.effect](r.t,r.b[e],r.c[e],r.d))},l=function(){r.nowTime=new Date,r.t=r.nowTime-r.startTime,r.t>=r.d?r.t=r.d:null;for(var t=0;t<r.offLen;t++)s(t);if(r.t>=r.d){clearInterval(e.timer);for(var n=0;n<r.offLen;n++)s(n,"end");r.t==r.d&&i&&i.call(e)}};e.timer=setInterval(l,1)},setCookie:function(e,t,n){var a=new Date;a.setDate(a.getDate()+n),document.cookie=e+"="+t+";expires="+a},getCookie:function(e){for(var t=document.cookie.split("; "),n=0;n<t.length;n++){var a=t[n].split("=");if(a[0]==e)return a[1]}return""},removeCookie:function(e){this.setCookie(e,"",-1)},window:function(){!function(e){e.fn.window=function(t,n){t=t||{};var a=e(this)[0];a.comein=function(){e(a).is(":visible")||(t.mask&&jf.mask(a,t.maskOpts||{}),jf.drag(a,{range:t.range}),a.keydown=function(e){13==(e||window.event).keyCode&&a.off(n)},e(a).show().css({zIndex:parseInt(e(a.oMask).css("z-index"))+1,left:"50%",top:"50%",marginTop:-(e(a).height()/2),marginLeft:-(e(a).width()/2)}),jf.css3Animate(a,"scaleIn animated"),e(a).find(".define").each(function(){function t(){a.off(n)}e(this).unbind("click",t).bind("click",t)}),e(a).find(".close").each(function(){function t(){a.off()}e(this).unbind("click",t).bind("click",t)}))},a.off=function(t){jf.css3Animate(a,"scaleOut animated",function(){a.oMask&&(e(a.oMask).remove(),delete a.oMask),e(a).hide().css({marginTop:"",marginLeft:""}),t&&t()})},a.comein()}}(jQuery)}(),confirm:function(e,t,n,a){this.tipsList("confirm",e,t,n,a)},alert:function(e,t){this.tipsList("alert",e,t)},tipsList:function(e,t,n,i,r){if(!a){var o=jf.tips.$events[e],s=o.guid++;o[s]={},o[s].str=t,o[s].opts=n||{},o[s].defineCallback=i,o[s].cancelCallback=r,jf.tips.handler(e,s,i,r)}},tips:this.tips||{$events:{alert:{guid:0,passFlag:!0},confirm:{guid:0,passFlag:!0}},handler:function(e,t,n,a){var i=jf.tips.$events[e];jf.tips.forEvent(e,i[t].str,i[t].opts,function(){delete i[t],i.passFlag=!0;var n=t+1;n in i&&jf.tips.handler(e,n,i[n].defineCallback,i[n].cancelCallback)},function(){},n,a)},forEvent:function(e,t,n,a,i,r,o){function s(){n.mask&&jf.mask(u,n.maskOpts||{}),r?(jf.drag(u),$(u.oMask).addClass("ie-block-bg"),u.keydown=function(e){13==(e||window.event).keyCode&&l(r)},$(document).bind("keydown",u.keydown),jf.css3Animate(u,"scaleIn animated"),$(u).find(".jf-tips-define").each(function(){$(this).bind("click",function(){l(r)})}),$(u).find(".jf-tips-cancel").each(function(){$(this).bind("click",function(){l(o)})})):jf.animate(u,{mode:"Back",effect:"easeOut"},{top:-120},"normal",function(){c()})}function c(){jf.tips.offTimer=setTimeout(function(){u.oMask&&jf.animate(u.oMask,{mode:"Quint",effect:"easeIn"},{opacity:0},"normal"),jf.animate(u,{mode:"Back",effect:"easeIn"},{top:f},"normal",function(){u.oMask&&$(u.oMask).remove(),$(u).empty().remove(),a&&a()})},1500)}function l(e){$(document).unbind("keydown",u.keydown),jf.css3Animate(u,"scaleOut animated",function(){u.oMask&&$(u.oMask).remove(),$(u).empty().remove(),e&&e(),a&&a()})}if(jf.tips.$events[e].passFlag){i&&i(),jf.tips.$events[e].passFlag=!1;var u=document.createElement("div"),d='<div class="jf-tips-c">'+t+'</div><div class="jf-tips-ic"></div><div class="jf-tips-ic2"></div><div class="jf-tips-ic3"></div>';r&&(d='<div class="jf-drag"><div class="jf-tips-h"><b>'+(n.confirmTitle||"操作确认")+'</b><a href="javascript:;" class="jf-tips-cancel">X</a></div><div class="jf-tips-c">'+t+'</div><div class="jf-tips-f"><a href="'+(n.open?n.open+'" target="_blank"':'javascript:;"')+' class="jf-tips-define">确定</a><a href="javascript:;" class="jf-tips-cancel">取消</a></div></div>'),$(u).addClass(r?"jf-tips":"jf-tips-t").html(d),$("body").append(u);var f=r?"50%":-($(u).outerHeight(!0)+38),m=-(r?$(u).outerHeight(!0)/2:0);$(u).css({left:0}),$(u).show().css({top:f,marginTop:m,marginLeft:-($(u).outerWidth(!0)/2),left:"50%"}),s()}}},drag:function(e,t){t=t||{};var n,a,i,u,d=function(r){if(i=r.clientX-n,u=r.clientY-a,t.range){var o=jf.winScaleData(),s="minX"in t?t.minX:-parseInt($(e).css("margin-left")),c="maxX"in t?t.maxX:o.minW-$(e).outerWidth(!0),l="minY"in t?t.minY:-parseInt($(e).css("margin-top")),d="maxY"in t?t.maxY:o.cH-$(e).outerHeight(!0);i=new Number(i)._range(s,c),u=new Number(u)._range(l,d)}$(e).css({left:i,top:u,WebkitUserSelect:"none",UserSelect:"none"}),document.body.onselectstart=function(){return!1}},f=function(t){document.body.onselectstart=function(){return!0},$(e).css({webkitUserSelect:"",userSelect:""}),$(document).unbind(s,d),$(document).unbind(c,f),r&&$(document).unbind(l,f)},m=function(t){n=t.clientX-$(e).position().left,a=t.clientY-$(e).position().top,$(document).bind(s,d),$(document).bind(c,f),r&&$(document).bind(l,f),t.stopPropagation()};$(e).find(".jf-drag").unbind(o,m).bind(o,m),$(e).find("img,a,input,select,textarea,button,.stopPropagation").each(function(){function e(e){e.stopPropagation()}$(this).unbind(o,e).bind(o,e)})},css3Animate:function(e,t,n){jf.css3Check()?($(e).addClass(t),jf.css3AnimatedEnd(e,function(){$(e).removeClass(t),n&&n.call(e)})):n&&n.call(e)},mask:function(e,n){if(e.oMask=t.createElement("div"),e.parentNode.insertBefore(e.oMask,e),e.oMask.className="jf-mask",n=n||{},n.animate=n.animate||{},n.css)for(var a in n.css)e.oMask.style[a]=n.css[a];n.animate&&this.animate(e.oMask,n.animate.tween||{mode:"Quint",effect:"easeOut"},n.animate.css||{opacity:30},n.animate.speed||"fast")},loadingIn:function(e,n){this.laddingDB=this.laddingDB||{};var a=this.laddingDB;a.o||(a.o=t.createElement("div"),a.o.className="jf-full-screen-loading",t.body.appendChild(a.o),e=e||{},e.text&&(e.css={width:"86px",height:"70px",backgroundPosition:"center 10px"},e.innerHTML='<div style="text-align:center;color:#efefef;padding-top:46px;line-height:14px;font-size:14px;">加载中...</div>'),this.mask(a.o,e.maskOpts||{css:{zIndex:99998}}),e.css&&$(a.o).css(e.css),e.innerHTML&&$(a.o).html(e.innerHTML),this.css3Animate(a.o,"scaleIn animated",function(){n&&n()}))},loadingOut:function(e){this.laddingDB=this.laddingDB||{};var t=this.laddingDB;if(t.o){var n=0;this.animate(t.o.oMask,{mode:"Quint",effect:"easeIn"},{opacity:0},318,function(){$(t.o.oMask).remove(),n++,n>=2&&(delete t.o,e&&e())}),this.css3Animate(t.o,"scaleOut animated",function(){$(t.o).remove(),n++,n>=2&&(delete t.o,e&&e())})}}},$("head").append('<style>.animated{-webkit-animation-duration:.3s;animation-duration:.3s;-webkit-animation-fill-mode:both;animation-fill-mode:both;}.animated.infinite {-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;}@-webkit-keyframes scaleIn{0%{opacity:0;-webkit-transform:scale(.3);}100%{opacity:1;-webkit-transform:scale(1);}}@keyframes scaleIn{0%{opacity:0;transform:scale(.3);}100%{opacity:1;transform:scale(1);}}.scaleIn{-webkit-animation-name:scaleIn;animation-name:scaleIn;}@-webkit-keyframes scaleOut {0%{opacity:1;-webkit-transform:scale(1);}100%{opacity:0;-webkit-transform:scale(.3);}}@keyframes scaleOut {0%{opacity:1;transform:scale(1);}100%{opacity:0;transform:scale(.3);}}.scaleOut{-webkit-animation-name:scaleOut;animation-name:scaleOut;}.jf-mask { width:100%;height:100%;left:0;top:0;background:black;opacity:0;filter:alpha(opacity=0);position:fixed;z-index:98888;}.ie-block-bg {background:url(img/ie7-block.gif);}.jf-tips {left: 50%;top:0;margin:0;min-width:280px;max-width:98%;height:auto;line-height:21px;text-align:center;box-shadow:1px 1px 0 white,-1px -1px 0 white,0 2px 15px rgba(35,35,35,.5);border-radius:5px;background:#fff;border: 5px solid #eaeaea;color:#606060;font-size:14px;font-weight: normal;position:fixed;z-index:99888;}.jf-tips-t { position:fixed;z-index:99888;left: 50%;top:0;margin:0;min-width:280px;max-width:98%;height:auto;line-height:21px;text-align: center;box-shadow:1px 1px 0 white,-1px -1px 0 white,0 2px 15px rgba(35,35,35,.5);border-radius:0 0 10px 10px;background:#fff;border:5px solid #eddcbf;border-top:0;color:#606060;font-size:14px;font-weight: normal;display:none;}.jf-tips-c {padding:35px 25px;line-height:21px;cursor:default;}.jf-tips .jf-tips-c {border: 1px solid #ccc;border-width:0 1px 0 1px;}.jf-tips-t .jf-tips-c { padding:135px 60px 15px;}.jf-tips-f { padding:5px 5px 0;background-color: #eaeaea;border-top:1px solid #ccc;box-shadow:0 1px 0 #fff inset;}.jf-tips-f a { margin:0 8px;border:1px solid #c1c1c1;display:inline-block;color:#606060;line-height:100%;padding:4px 20px 5px;border-radius:3px;background:white;background: -webkit-linear-gradient(90deg, #ebebeb , white);background: -moz-linear-gradient(90deg, #ebebeb, white);background: -o-linear-gradient(90deg, #ebebeb, white);filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="white", endColorstr="#ebebeb", GradientType="0");}.jf-tips-f a:hover { text-decoration: none;border-color:#90d2ed;color:#007fb0;background:#dff4fc;background:-webkit-linear-gradient(90deg, #dff4fc, white);background:-moz-linear-gradient(90deg, #dff4fc, white);background:-o-linear-gradient(90deg, #dff4fc, white);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="white", endColorstr="#dff4fc", GradientType="0");text-shadow:1px 1px 0 white;}.jf-tips-h {text-indent:10px;text-align:left;line-height:26px;padding-bottom:3px;background-color: #eaeaea;border-bottom:1px solid #ccc;box-shadow:0 -1px 0 #fff inset;color:#333;}.jf-tips-h .jf-tips-cancel {text-indent:0;position:absolute;right:5px;top:2px;line-height:100%;padding:3px 5px;display:block;border-radius:3px;color:#b1b1b1;font:12px/1 "lucida Grande",Verdana,Arial;}.jf-tips-h .jf-tips-cancel:hover { text-decoration: none;background:#ccc;color:white;text-shadow:-1px -1px 0 #c1c1c1;}.jf-drag { cursor: move;}.jf-tips-ic{width:32px;height:32px;position:absolute;left:0;bottom:0;background:url(../rcp-common/imgs/icon/icon-msg.png) no-repeat;}.jf-tips-ic2,.jf-tips-ic3{width:8px;height:8px;border-radius:50%;position:absolute;left:5px;top:122px;background:#b3bc9a;}.jf-tips-ic3{left:auto;right:5px;}.jf-full-screen-loading {width:68px;height:68px;margin:-34px 0 0 -34px;left:50%;top:50%;background:#101010 url(img/loading.gif) no-repeat center center;border-radius:8px;position:fixed;z-index:99999;}</style>')}(window,document),String.prototype._trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},String.prototype._resetBlank=function(){var e=/\s+/g;return this.replace(e," ")},String.prototype._getNum=function(){var e=/[^\d]/g;return this.replace(e,"")},String.prototype._getCN=function(){var e=/[^\u4e00-\u9fa5\uf900-\ufa2d]/g;return this.replace(e,"")},String.prototype._getLen=function(){var e=this.match(/[\x00-\xff]/g),t=2*this.length;return e&&(t-=e.length),t},String.prototype._limitLen=function(e,t){if(this._getLen()<e)return this.toString();for(var n="",a=0;a<this.length&&(n+=this.charAt(a),!(n._getLen()>=e));a++);return(n+t).toString()},String.prototype._getFileName=function(){var e=/^.*\/([^\/\?]*).*$/;return this.replace(e,"$1")},String.prototype._getExtensionName=function(){var e=/^.*\/[^\/]*(\.[^\.\?]*).*$/;return this.replace(e,"$1")},Number.prototype._range=function(e,t){return parseFloat(this)>t?t:parseFloat(this)<e?e:parseFloat(this)},Number.prototype._lenWithZero=function(e){for(var t=this.toString();t.length<e;)t="0"+t;return t},Number.prototype._chrW=function(){return String.fromCharCode(this)},Number.prototype._dateFormat=function(e){var t=new Date(parseInt(this.toString())),n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in n)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[a]:("00"+n[a]).substr((""+n[a]).length)));return e},Date.prototype._format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},Array.prototype._indexOf=function(e){for(var t,n=0;n<this.length;n++)e==this[n]&&(t=n);return t},function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(e,t){return Te.call(e,t)}function a(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function i(e){be.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function r(e,t){var n=!0;return f(function(){return n&&(i(e),n=!1),t.apply(this,arguments)},t)}function o(e,t){gt[e]||(i(t),gt[e]=!0)}function s(e,t){return function(n){return p(e.call(this,n),t)}}function c(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function l(){}function u(e,t){t!==!1&&O(e),m(this,e),this._d=new Date(+e._d)}function d(e){var t=M(e),n=t.year||0,a=t.quarter||0,i=t.month||0,r=t.week||0,o=t.day||0,s=t.hour||0,c=t.minute||0,l=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*l+6e4*c+36e5*s,this._days=+o+7*r,this._months=+i+3*a+12*n,this._data={},this._locale=be.localeData(),this._bubble()}function f(e,t){for(var a in t)n(t,a)&&(e[a]=t[a]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}function m(e,t){var n,a,i;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Ue.length>0)for(n in Ue)a=Ue[n],i=t[a],"undefined"!=typeof i&&(e[a]=i);return e}function h(e){return 0>e?Math.ceil(e):Math.floor(e);
}function p(e,t,n){for(var a=""+Math.abs(e),i=e>=0;a.length<t;)a="0"+a;return(i?n?"+":"":"-")+a}function g(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function v(e,t){var n;return t=A(t,e),e.isBefore(t)?n=g(e,t):(n=g(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function y(e,t){return function(n,a){var i,r;return null===a||isNaN(+a)||(o(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),r=n,n=a,a=r),n="string"==typeof n?+n:n,i=be.duration(n,a),b(this,i,e),this}}function b(e,t,n,a){var i=t._milliseconds,r=t._days,o=t._months;a=null==a?!0:a,i&&e._d.setTime(+e._d+i*n),r&&me(e,"Date",fe(e,"Date")+r*n),o&&de(e,fe(e,"Month")+o*n),a&&be.updateOffset(e,r||o)}function k(e){return"[object Array]"===Object.prototype.toString.call(e)}function w(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function _(e,t,n){var a,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),o=0;for(a=0;i>a;a++)(n&&e[a]!==t[a]||!n&&D(e[a])!==D(t[a]))&&o++;return o+r}function x(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=lt[e]||ut[t]||t}return e}function M(e){var t,a,i={};for(a in e)n(e,a)&&(t=x(a),t&&(i[t]=e[a]));return i}function T(t){var n,a;if(0===t.indexOf("week"))n=7,a="day";else{if(0!==t.indexOf("month"))return;n=12,a="month"}be[t]=function(i,r){var o,s,c=be._locale[t],l=[];if("number"==typeof i&&(r=i,i=e),s=function(e){var t=be().utc().set(a,e);return c.call(be._locale,t,i||"")},null!=r)return s(r);for(o=0;n>o;o++)l.push(s(o));return l}}function D(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function C(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function S(e,t,n){return se(be([e,11,31+t-n]),t,n).week}function L(e){return I(e)?366:365}function I(e){return e%4===0&&e%100!==0||e%400===0}function O(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[Ce]<0||e._a[Ce]>11?Ce:e._a[Se]<1||e._a[Se]>C(e._a[De],e._a[Ce])?Se:e._a[Le]<0||e._a[Le]>24||24===e._a[Le]&&(0!==e._a[Ie]||0!==e._a[Oe]||0!==e._a[Ee])?Le:e._a[Ie]<0||e._a[Ie]>59?Ie:e._a[Oe]<0||e._a[Oe]>59?Oe:e._a[Ee]<0||e._a[Ee]>999?Ee:-1,e._pf._overflowDayOfYear&&(De>t||t>Se)&&(t=Se),e._pf.overflow=t)}function E(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===e)),t._isValid}function $(e){return e?e.toLowerCase().replace("_","-"):e}function U(e){for(var t,n,a,i,r=0;r<e.length;){for(i=$(e[r]).split("-"),t=i.length,n=$(e[r+1]),n=n?n.split("-"):null;t>0;){if(a=Y(i.slice(0,t).join("-")))return a;if(n&&n.length>=t&&_(i,n,!0)>=t-1)break;t--}r++}return null}function Y(e){var t=null;if(!$e[e]&&Ye)try{t=be.locale(),require("./locale/"+e),be.locale(t)}catch(n){}return $e[e]}function A(e,t){var n,a;return t._isUTC?(n=t.clone(),a=(be.isMoment(e)||w(e)?+e:+be(e))-+n,n._d.setTime(+n._d+a),be.updateOffset(n,!1),n):be(e).local()}function W(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function P(e){var t,n,a=e.match(je);for(t=0,n=a.length;n>t;t++)pt[a[t]]?a[t]=pt[a[t]]:a[t]=W(a[t]);return function(i){var r="";for(t=0;n>t;t++)r+=a[t]instanceof Function?a[t].call(i,e):a[t];return r}}function j(e,t){return e.isValid()?(t=N(t,e.localeData()),dt[t]||(dt[t]=P(t)),dt[t](e)):e.localeData().invalidDate()}function N(e,t){function n(e){return t.longDateFormat(e)||e}var a=5;for(Ne.lastIndex=0;a>=0&&Ne.test(e);)e=e.replace(Ne,n),Ne.lastIndex=0,a-=1;return e}function F(e,t){var n,a=t._strict;switch(e){case"Q":return Ze;case"DDDD":return Je;case"YYYY":case"GGGG":case"gggg":return a?et:He;case"Y":case"G":case"g":return nt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return a?tt:ze;case"S":if(a)return Ze;case"SS":if(a)return Qe;case"SSS":if(a)return Je;case"DDD":return Ge;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Re;case"a":case"A":return t._locale._meridiemParse;case"x":return qe;case"X":return Xe;case"Z":case"ZZ":return Be;case"T":return Ke;case"SSSS":return Ve;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return a?Qe:Fe;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Fe;case"Do":return a?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return n=new RegExp(X(q(e.replace("\\","")),"i"))}}function G(e){e=e||"";var t=e.match(Be)||[],n=t[t.length-1]||[],a=(n+"").match(st)||["-",0,0],i=+(60*a[1])+D(a[2]);return"+"===a[0]?-i:i}function H(e,t,n){var a,i=n._a;switch(e){case"Q":null!=t&&(i[Ce]=3*(D(t)-1));break;case"M":case"MM":null!=t&&(i[Ce]=D(t)-1);break;case"MMM":case"MMMM":a=n._locale.monthsParse(t,e,n._strict),null!=a?i[Ce]=a:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(i[Se]=D(t));break;case"Do":null!=t&&(i[Se]=D(parseInt(t.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=D(t));break;case"YY":i[De]=be.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":i[De]=D(t);break;case"a":case"A":n._isPm=n._locale.isPM(t);break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":i[Le]=D(t);break;case"m":case"mm":i[Ie]=D(t);break;case"s":case"ss":i[Oe]=D(t);break;case"S":case"SS":case"SSS":case"SSSS":i[Ee]=D(1e3*("0."+t));break;case"x":n._d=new Date(D(t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=G(t);break;case"dd":case"ddd":case"dddd":a=n._locale.weekdaysParse(t),null!=a?(n._w=n._w||{},n._w.d=a):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=D(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=be.parseTwoDigitYear(t)}}function z(e){var n,a,i,r,o,s,c;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(o=1,s=4,a=t(n.GG,e._a[De],se(be(),1,4).year),i=t(n.W,1),r=t(n.E,1)):(o=e._locale._week.dow,s=e._locale._week.doy,a=t(n.gg,e._a[De],se(be(),o,s).year),i=t(n.w,1),null!=n.d?(r=n.d,o>r&&++i):r=null!=n.e?n.e+o:o),c=ce(a,i,r,s,o),e._a[De]=c.year,e._dayOfYear=c.dayOfYear}function V(e){var n,a,i,r,o=[];if(!e._d){for(i=B(e),e._w&&null==e._a[Se]&&null==e._a[Ce]&&z(e),e._dayOfYear&&(r=t(e._a[De],i[De]),e._dayOfYear>L(r)&&(e._pf._overflowDayOfYear=!0),a=ae(r,0,e._dayOfYear),e._a[Ce]=a.getUTCMonth(),e._a[Se]=a.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=o[n]=i[n];for(;7>n;n++)e._a[n]=o[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[Le]&&0===e._a[Ie]&&0===e._a[Oe]&&0===e._a[Ee]&&(e._nextDay=!0,e._a[Le]=0),e._d=(e._useUTC?ae:ne).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm),e._nextDay&&(e._a[Le]=24)}}function R(e){var t;e._d||(t=M(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],V(e))}function B(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function K(t){if(t._f===be.ISO_8601)return void Q(t);t._a=[],t._pf.empty=!0;var n,a,i,r,o,s=""+t._i,c=s.length,l=0;for(i=N(t._f,t._locale).match(je)||[],n=0;n<i.length;n++)r=i[n],a=(s.match(F(r,t))||[])[0],a&&(o=s.substr(0,s.indexOf(a)),o.length>0&&t._pf.unusedInput.push(o),s=s.slice(s.indexOf(a)+a.length),l+=a.length),pt[r]?(a?t._pf.empty=!1:t._pf.unusedTokens.push(r),H(r,a,t)):t._strict&&!a&&t._pf.unusedTokens.push(r);t._pf.charsLeftOver=c-l,s.length>0&&t._pf.unusedInput.push(s),t._pf.bigHour===!0&&t._a[Le]<=12&&(t._pf.bigHour=e),t._isPm&&t._a[Le]<12&&(t._a[Le]+=12),t._isPm===!1&&12===t._a[Le]&&(t._a[Le]=0),V(t),O(t)}function q(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,a,i){return t||n||a||i})}function X(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(e){var t,n,i,r,o;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=a(),t._f=e._f[r],K(t),E(t)&&(o+=t._pf.charsLeftOver,o+=10*t._pf.unusedTokens.length,t._pf.score=o,(null==i||i>o)&&(i=o,n=t));f(e,n||t)}function Q(e){var t,n,a=e._i,i=at.exec(a);if(i){for(e._pf.iso=!0,t=0,n=rt.length;n>t;t++)if(rt[t][1].exec(a)){e._f=rt[t][0]+(i[6]||" ");break}for(t=0,n=ot.length;n>t;t++)if(ot[t][1].exec(a)){e._f+=ot[t][0];break}a.match(Be)&&(e._f+="Z"),K(e)}else e._isValid=!1}function J(e){Q(e),e._isValid===!1&&(delete e._isValid,be.createFromInputFallback(e))}function ee(e,t){var n,a=[];for(n=0;n<e.length;++n)a.push(t(e[n],n));return a}function te(t){var n,a=t._i;a===e?t._d=new Date:w(a)?t._d=new Date(+a):null!==(n=Ae.exec(a))?t._d=new Date(+n[1]):"string"==typeof a?J(t):k(a)?(t._a=ee(a.slice(0),function(e){return parseInt(e,10)}),V(t)):"object"==typeof a?R(t):"number"==typeof a?t._d=new Date(a):be.createFromInputFallback(t)}function ne(e,t,n,a,i,r,o){var s=new Date(e,t,n,a,i,r,o);return 1970>e&&s.setFullYear(e),s}function ae(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function ie(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function re(e,t,n,a,i){return i.relativeTime(t||1,!!n,e,a)}function oe(e,t,n){var a=be.duration(e).abs(),i=Me(a.as("s")),r=Me(a.as("m")),o=Me(a.as("h")),s=Me(a.as("d")),c=Me(a.as("M")),l=Me(a.as("y")),u=i<ft.s&&["s",i]||1===r&&["m"]||r<ft.m&&["mm",r]||1===o&&["h"]||o<ft.h&&["hh",o]||1===s&&["d"]||s<ft.d&&["dd",s]||1===c&&["M"]||c<ft.M&&["MM",c]||1===l&&["y"]||["yy",l];return u[2]=t,u[3]=+e>0,u[4]=n,re.apply({},u)}function se(e,t,n){var a,i=n-t,r=n-e.day();return r>i&&(r-=7),i-7>r&&(r+=7),a=be(e).add(r,"d"),{week:Math.ceil(a.dayOfYear()/7),year:a.year()}}function ce(e,t,n,a,i){var r,o,s=ae(e,0,1).getUTCDay();return s=0===s?7:s,n=null!=n?n:i,r=i-s+(s>a?7:0)-(i>s?7:0),o=7*(t-1)+(n-i)+r+1,{year:o>0?e:e-1,dayOfYear:o>0?o:L(e-1)+o}}function le(t){var n,a=t._i,i=t._f;return t._locale=t._locale||be.localeData(t._l),null===a||i===e&&""===a?be.invalid({nullInput:!0}):("string"==typeof a&&(t._i=a=t._locale.preparse(a)),be.isMoment(a)?new u(a,!0):(i?k(i)?Z(t):K(t):te(t),n=new u(t),n._nextDay&&(n.add(1,"d"),n._nextDay=e),n))}function ue(e,t){var n,a;if(1===t.length&&k(t[0])&&(t=t[0]),!t.length)return be();for(n=t[0],a=1;a<t.length;++a)t[a][e](n)&&(n=t[a]);return n}function de(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),C(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function fe(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function me(e,t,n){return"Month"===t?de(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function he(e,t){return function(n){return null!=n?(me(this,e,n),be.updateOffset(this,t),this):fe(this,e)}}function pe(e){return 400*e/146097}function ge(e){return 146097*e/400}function ve(e){be.duration.fn[e]=function(){return this._data[e]}}function ye(e){"undefined"==typeof ender&&(ke=xe.moment,e?xe.moment=r("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",be):xe.moment=be)}for(var be,ke,we,_e="2.8.4",xe="undefined"!=typeof global?global:this,Me=Math.round,Te=Object.prototype.hasOwnProperty,De=0,Ce=1,Se=2,Le=3,Ie=4,Oe=5,Ee=6,$e={},Ue=[],Ye="undefined"!=typeof module&&module&&module.exports,Ae=/^\/?Date\((\-?\d+)/i,We=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Pe=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,je=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Ne=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Fe=/\d\d?/,Ge=/\d{1,3}/,He=/\d{1,4}/,ze=/[+\-]?\d{1,6}/,Ve=/\d+/,Re=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Be=/Z|[\+\-]\d\d:?\d\d/gi,Ke=/T/i,qe=/[\+\-]?\d+/,Xe=/[\+\-]?\d+(\.\d{1,3})?/,Ze=/\d/,Qe=/\d\d/,Je=/\d{3}/,et=/\d{4}/,tt=/[+-]?\d{6}/,nt=/[+-]?\d+/,at=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,it="YYYY-MM-DDTHH:mm:ssZ",rt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ot=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],st=/([\+\-]|\d\d)/gi,ct=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),lt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},ut={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},dt={},ft={s:45,m:45,h:22,d:26,M:11},mt="DDD w W M D d".split(" "),ht="M D H h m s w W".split(" "),pt={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return p(this.year()%100,2)},YYYY:function(){return p(this.year(),4)},YYYYY:function(){return p(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+p(Math.abs(e),6)},gg:function(){return p(this.weekYear()%100,2)},gggg:function(){return p(this.weekYear(),4)},ggggg:function(){return p(this.weekYear(),5)},GG:function(){return p(this.isoWeekYear()%100,2)},GGGG:function(){return p(this.isoWeekYear(),4)},GGGGG:function(){return p(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return D(this.milliseconds()/100)},SS:function(){return p(D(this.milliseconds()/10),2)},SSS:function(){return p(this.milliseconds(),3)},SSSS:function(){return p(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+p(D(e/60),2)+":"+p(D(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+p(D(e/60),2)+p(D(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},gt={},vt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];mt.length;)we=mt.pop(),pt[we+"o"]=c(pt[we],we);for(;ht.length;)we=ht.pop(),pt[we+we]=s(pt[we],2);pt.DDDD=s(pt.DDD,3),f(l.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,t,n){var a,i,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;12>a;a++){if(i=be.utc([2e3,a]),n&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[a]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[a]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[a].test(e))return a;if(n&&"MMM"===t&&this._shortMonthsParse[a].test(e))return a;if(!n&&this._monthsParse[a].test(e))return a}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,a;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=be([2e3,1]).day(t),a="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(a.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t,n){var a=this._calendar[e];return"function"==typeof a?a.apply(t,[n]):a},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,a){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,a):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return se(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),be=function(t,n,i,r){var o;return"boolean"==typeof i&&(r=i,i=e),o={},o._isAMomentObject=!0,o._i=t,o._f=n,o._l=i,o._strict=r,o._isUTC=!1,o._pf=a(),le(o)},be.suppressDeprecationWarnings=!1,be.createFromInputFallback=r("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),be.min=function(){var e=[].slice.call(arguments,0);return ue("isBefore",e)},be.max=function(){var e=[].slice.call(arguments,0);return ue("isAfter",e)},be.utc=function(t,n,i,r){var o;return"boolean"==typeof i&&(r=i,i=e),o={},o._isAMomentObject=!0,o._useUTC=!0,o._isUTC=!0,o._l=i,o._i=t,o._f=n,o._strict=r,o._pf=a(),le(o).utc()},be.unix=function(e){return be(1e3*e)},be.duration=function(e,t){var a,i,r,o,s=e,c=null;return be.isDuration(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(c=We.exec(e))?(a="-"===c[1]?-1:1,s={y:0,d:D(c[Se])*a,h:D(c[Le])*a,m:D(c[Ie])*a,s:D(c[Oe])*a,ms:D(c[Ee])*a}):(c=Pe.exec(e))?(a="-"===c[1]?-1:1,r=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*a},s={y:r(c[2]),M:r(c[3]),d:r(c[4]),h:r(c[5]),m:r(c[6]),s:r(c[7]),w:r(c[8])}):"object"==typeof s&&("from"in s||"to"in s)&&(o=v(be(s.from),be(s.to)),s={},s.ms=o.milliseconds,s.M=o.months),i=new d(s),be.isDuration(e)&&n(e,"_locale")&&(i._locale=e._locale),i},be.version=_e,be.defaultFormat=it,be.ISO_8601=function(){},be.momentProperties=Ue,be.updateOffset=function(){},be.relativeTimeThreshold=function(t,n){return ft[t]===e?!1:n===e?ft[t]:(ft[t]=n,!0)},be.lang=r("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return be.locale(e,t)}),be.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?be.defineLocale(e,t):be.localeData(e),n&&(be.duration._locale=be._locale=n)),be._locale._abbr},be.defineLocale=function(e,t){return null!==t?(t.abbr=e,$e[e]||($e[e]=new l),$e[e].set(t),be.locale(e),$e[e]):(delete $e[e],null)},be.langData=r("moment.langData is deprecated. Use moment.localeData instead.",function(e){return be.localeData(e)}),be.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return be._locale;if(!k(e)){if(t=Y(e))return t;e=[e]}return U(e)},be.isMoment=function(e){return e instanceof u||null!=e&&n(e,"_isAMomentObject")},be.isDuration=function(e){return e instanceof d};for(we=vt.length-1;we>=0;--we)T(vt[we]);be.normalizeUnits=function(e){return x(e)},be.invalid=function(e){var t=be.utc(NaN);return null!=e?f(t._pf,e):t._pf.userInvalidated=!0,t},be.parseZone=function(){return be.apply(null,arguments).parseZone()},be.parseTwoDigitYear=function(e){return D(e)+(D(e)>68?1900:2e3)},f(be.fn=u.prototype,{clone:function(){return be(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=be(this).utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():j(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):j(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return E(this)},isDSTShifted:function(){return this._a?this.isValid()&&_(this._a,(this._isUTC?be.utc(this._a):be(this._a)).toArray())>0:!1},parsingFlags:function(){return f({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){return this._isUTC&&(this.zone(0,e),this._isUTC=!1,e&&this.add(this._dateTzOffset(),"m")),this},format:function(e){var t=j(this,e||be.defaultFormat);return this.localeData().postformat(t)},add:y(1,"add"),subtract:y(-1,"subtract"),diff:function(e,t,n){var a,i,r,o=A(e,this),s=6e4*(this.zone()-o.zone());return t=x(t),"year"===t||"month"===t?(a=432e5*(this.daysInMonth()+o.daysInMonth()),i=12*(this.year()-o.year())+(this.month()-o.month()),r=this-be(this).startOf("month")-(o-be(o).startOf("month")),r-=6e4*(this.zone()-be(this).startOf("month").zone()-(o.zone()-be(o).startOf("month").zone())),i+=r/a,"year"===t&&(i/=12)):(a=this-o,i="second"===t?a/1e3:"minute"===t?a/6e4:"hour"===t?a/36e5:"day"===t?(a-s)/864e5:"week"===t?(a-s)/6048e5:a),n?i:h(i)},from:function(e,t){return be.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(be(),e)},calendar:function(e){var t=e||be(),n=A(t,this).startOf("day"),a=this.diff(n,"days",!0),i=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this,be(t)))},isLeapYear:function(){return I(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=ie(e,this.localeData()),this.add(e-t,"d")):t},month:he("Month",!0),startOf:function(e){switch(e=x(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=x(t),t===e||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(e,t){var n;return t=x("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=be.isMoment(e)?e:be(e),+this>+e):(n=be.isMoment(e)?+e:+be(e),n<+this.clone().startOf(t))},isBefore:function(e,t){var n;return t=x("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=be.isMoment(e)?e:be(e),+e>+this):(n=be.isMoment(e)?+e:+be(e),+this.clone().endOf(t)<n)},isSame:function(e,t){var n;return t=x(t||"millisecond"),"millisecond"===t?(e=be.isMoment(e)?e:be(e),+this===+e):(n=+be(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))},min:r("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=be.apply(null,arguments),this>e?this:e}),max:r("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=be.apply(null,arguments),e>this?this:e}),zone:function(e,t){var n,a=this._offset||0;return null==e?this._isUTC?a:this._dateTzOffset():("string"==typeof e&&(e=G(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(n=this._dateTzOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.subtract(n,"m"),a!==e&&(!t||this._changeInProgress?b(this,be.duration(a-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,be.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?be(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return C(this.year(),this.month())},dayOfYear:function(e){var t=Me((be(this).startOf("day")-be(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=se(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=se(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=se(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return S(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return S(this.year(),e.dow,e.doy)},get:function(e){return e=x(e),this[e]()},set:function(e,t){return e=x(e),"function"==typeof this[e]&&this[e](t),this},locale:function(t){var n;return t===e?this._locale._abbr:(n=be.localeData(t),null!=n&&(this._locale=n),this)},lang:r("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),be.fn.millisecond=be.fn.milliseconds=he("Milliseconds",!1),be.fn.second=be.fn.seconds=he("Seconds",!1),be.fn.minute=be.fn.minutes=he("Minutes",!1),be.fn.hour=be.fn.hours=he("Hours",!0),be.fn.date=he("Date",!0),be.fn.dates=r("dates accessor is deprecated. Use date instead.",he("Date",!0)),be.fn.year=he("FullYear",!0),be.fn.years=r("years accessor is deprecated. Use year instead.",he("FullYear",!0)),be.fn.days=be.fn.day,be.fn.months=be.fn.month,be.fn.weeks=be.fn.week,be.fn.isoWeeks=be.fn.isoWeek,be.fn.quarters=be.fn.quarter,be.fn.toJSON=be.fn.toISOString,f(be.duration.fn=d.prototype,{_bubble:function(){var e,t,n,a=this._milliseconds,i=this._days,r=this._months,o=this._data,s=0;o.milliseconds=a%1e3,e=h(a/1e3),o.seconds=e%60,t=h(e/60),o.minutes=t%60,n=h(t/60),o.hours=n%24,i+=h(n/24),s=h(pe(i)),i-=h(ge(s)),r+=h(i/30),i%=30,s+=h(r/12),r%=12,o.days=i,o.months=r,o.years=s},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*D(this._months/12)},humanize:function(e){var t=oe(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=be.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=be.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=x(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=x(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*pe(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ge(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:be.fn.lang,locale:be.fn.locale,toIsoString:r("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),a=Math.abs(this.hours()),i=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(a||i||r?"T":"")+(a?a+"H":"")+(i?i+"M":"")+(r?r+"S":""):"P0D"},localeData:function(){return this._locale}}),be.duration.fn.toString=be.duration.fn.toISOString;for(we in ct)n(ct,we)&&ve(we.toLowerCase());be.duration.fn.asMilliseconds=function(){return this.as("ms")},be.duration.fn.asSeconds=function(){return this.as("s")},be.duration.fn.asMinutes=function(){return this.as("m")},be.duration.fn.asHours=function(){return this.as("h")},be.duration.fn.asDays=function(){return this.as("d")},be.duration.fn.asWeeks=function(){return this.as("weeks")},be.duration.fn.asMonths=function(){return this.as("M")},be.duration.fn.asYears=function(){return this.as("y")},be.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===D(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),Ye?module.exports=be:"function"==typeof define&&define.amd?(define("moment",function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(xe.moment=ke),be}),ye(!0)):ye()}.call(this),window.Modernizr=function(e,t,n){function a(e){b.cssText=e}function i(e,t){return a(x.join(e+";")+(t||""))}function r(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function s(e,t){for(var a in e){var i=e[a];if(!o(i,"-")&&b[i]!==n)return"pfx"==t?i:!0;
}return!1}function c(e,t,a){for(var i in e){var o=t[e[i]];if(o!==n)return a===!1?e[i]:r(o,"function")?o.bind(a||t):o}return!1}function l(e,t,n){var a=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+T.join(a+" ")+a).split(" ");return r(t,"string")||r(t,"undefined")?s(i,t):(i=(e+" "+D.join(a+" ")+a).split(" "),c(i,t,n))}function u(){h.input=function(n){for(var a=0,i=n.length;i>a;a++)I[n[a]]=!!(n[a]in k);return I.list&&(I.list=!(!t.createElement("datalist")||!e.HTMLDataListElement)),I}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),h.inputtypes=function(e){for(var a,i,r,o=0,s=e.length;s>o;o++)k.setAttribute("type",i=e[o]),a="text"!==k.type,a&&(k.value=w,k.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(i)&&k.style.WebkitAppearance!==n?(g.appendChild(k),r=t.defaultView,a=r.getComputedStyle&&"textfield"!==r.getComputedStyle(k,null).WebkitAppearance&&0!==k.offsetHeight,g.removeChild(k)):/^(search|tel)$/.test(i)||(a=/^(url|email)$/.test(i)?k.checkValidity&&k.checkValidity()===!1:k.value!=w)),L[e[o]]=!!a;return L}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d,f,m="2.7.1",h={},p=!0,g=t.documentElement,v="modernizr",y=t.createElement(v),b=y.style,k=t.createElement("input"),w=":)",_={}.toString,x=" -webkit- -moz- -o- -ms- ".split(" "),M="Webkit Moz O ms",T=M.split(" "),D=M.toLowerCase().split(" "),C={svg:"http://www.w3.org/2000/svg"},S={},L={},I={},O=[],E=O.slice,$=function(e,n,a,i){var r,o,s,c,l=t.createElement("div"),u=t.body,d=u||t.createElement("body");if(parseInt(a,10))for(;a--;)s=t.createElement("div"),s.id=i?i[a]:v+(a+1),l.appendChild(s);return r=["&#173;",'<style id="s',v,'">',e,"</style>"].join(""),l.id=v,(u?l:d).innerHTML+=r,d.appendChild(l),u||(d.style.background="",d.style.overflow="hidden",c=g.style.overflow,g.style.overflow="hidden",g.appendChild(d)),o=n(l,e),u?l.parentNode.removeChild(l):(d.parentNode.removeChild(d),g.style.overflow=c),!!o},U=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t).matches;var a;return $("@media "+t+" { #"+v+" { position: absolute; } }",function(t){a="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),a},Y=function(){function e(e,i){i=i||t.createElement(a[e]||"div"),e="on"+e;var o=e in i;return o||(i.setAttribute||(i=t.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(e,""),o=r(i[e],"function"),r(i[e],"undefined")||(i[e]=n),i.removeAttribute(e))),i=null,o}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),A={}.hasOwnProperty;f=r(A,"undefined")||r(A.call,"undefined")?function(e,t){return t in e&&r(e.constructor.prototype[t],"undefined")}:function(e,t){return A.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=E.call(arguments,1),a=function(){if(this instanceof a){var i=function(){};i.prototype=t.prototype;var r=new i,o=t.apply(r,n.concat(E.call(arguments)));return Object(o)===o?o:r}return t.apply(e,n.concat(E.call(arguments)))};return a}),S.flexbox=function(){return l("flexWrap")},S.flexboxlegacy=function(){return l("boxDirection")},S.canvas=function(){var e=t.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},S.canvastext=function(){return!(!h.canvas||!r(t.createElement("canvas").getContext("2d").fillText,"function"))},S.webgl=function(){return!!e.WebGLRenderingContext},S.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:$(["@media (",x.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},S.geolocation=function(){return"geolocation"in navigator},S.postmessage=function(){return!!e.postMessage},S.websqldatabase=function(){return!!e.openDatabase},S.indexedDB=function(){return!!l("indexedDB",e)},S.hashchange=function(){return Y("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},S.history=function(){return!(!e.history||!history.pushState)},S.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},S.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},S.rgba=function(){return a("background-color:rgba(150,255,150,.5)"),o(b.backgroundColor,"rgba")},S.hsla=function(){return a("background-color:hsla(120,40%,100%,.5)"),o(b.backgroundColor,"rgba")||o(b.backgroundColor,"hsla")},S.multiplebgs=function(){return a("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(b.background)},S.backgroundsize=function(){return l("backgroundSize")},S.borderimage=function(){return l("borderImage")},S.borderradius=function(){return l("borderRadius")},S.boxshadow=function(){return l("boxShadow")},S.textshadow=function(){return""===t.createElement("div").style.textShadow},S.opacity=function(){return i("opacity:.55"),/^0.55$/.test(b.opacity)},S.cssanimations=function(){return l("animationName")},S.csscolumns=function(){return l("columnCount")},S.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return a((e+"-webkit- ".split(" ").join(t+e)+x.join(n+e)).slice(0,-e.length)),o(b.backgroundImage,"gradient")},S.cssreflections=function(){return l("boxReflect")},S.csstransforms=function(){return!!l("transform")},S.csstransforms3d=function(){var e=!!l("perspective");return e&&"webkitPerspective"in g.style&&$("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,n){e=9===t.offsetLeft&&3===t.offsetHeight}),e},S.csstransitions=function(){return l("transition")},S.fontface=function(){var e;return $('@font-face {font-family:"font";src:url("https://")}',function(n,a){var i=t.getElementById("smodernizr"),r=i.sheet||i.styleSheet,o=r?r.cssRules&&r.cssRules[0]?r.cssRules[0].cssText:r.cssText||"":"";e=/src/i.test(o)&&0===o.indexOf(a.split(" ")[0])}),e},S.generatedcontent=function(){var e;return $(["#",v,"{font:0/0 a}#",v,':after{content:"',w,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},S.video=function(){var e=t.createElement("video"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(a){}return n},S.audio=function(){var e=t.createElement("audio"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(a){}return n},S.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(e){return!1}},S.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(e){return!1}},S.webworkers=function(){return!!e.Worker},S.applicationcache=function(){return!!e.applicationCache},S.svg=function(){return!!t.createElementNS&&!!t.createElementNS(C.svg,"svg").createSVGRect},S.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==C.svg},S.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(_.call(t.createElementNS(C.svg,"animate")))},S.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(_.call(t.createElementNS(C.svg,"clipPath")))};for(var W in S)f(S,W)&&(d=W.toLowerCase(),h[d]=S[W](),O.push((h[d]?"":"no-")+d));return h.input||u(),h.addTest=function(e,t){if("object"==typeof e)for(var a in e)f(e,a)&&h.addTest(a,e[a]);else{if(e=e.toLowerCase(),h[e]!==n)return h;t="function"==typeof t?t():t,"undefined"!=typeof p&&p&&(g.className+=" "+(t?"":"no-")+e),h[e]=t}return h},a(""),y=k=null,function(e,t){function n(e,t){var n=e.createElement("p"),a=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",a.insertBefore(n.lastChild,a.firstChild)}function a(){var e=y.elements;return"string"==typeof e?e.split(" "):e}function i(e){var t=v[e[p]];return t||(t={},g++,e[p]=g,v[g]=t),t}function r(e,n,a){if(n||(n=t),u)return n.createElement(e);a||(a=i(n));var r;return r=a.cache[e]?a.cache[e].cloneNode():h.test(e)?(a.cache[e]=a.createElem(e)).cloneNode():a.createElem(e),!r.canHaveChildren||m.test(e)||r.tagUrn?r:a.frag.appendChild(r)}function o(e,n){if(e||(e=t),u)return e.createDocumentFragment();n=n||i(e);for(var r=n.frag.cloneNode(),o=0,s=a(),c=s.length;c>o;o++)r.createElement(s[o]);return r}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return y.shivMethods?r(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+a().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(y,t.frag)}function c(e){e||(e=t);var a=i(e);return!y.shivCSS||l||a.hasCSS||(a.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),u||s(e,a),e}var l,u,d="3.7.0",f=e.html5||{},m=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,h=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p="_html5shiv",g=0,v={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",l="hidden"in e,u=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){l=!0,u=!0}}();var y={elements:f.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:d,shivCSS:f.shivCSS!==!1,supportsUnknownElements:u,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:c,createElement:r,createDocumentFragment:o};e.html5=y,c(t)}(this,t),h._version=m,h._prefixes=x,h._domPrefixes=D,h._cssomPrefixes=T,h.mq=U,h.hasEvent=Y,h.testProp=function(e){return s([e])},h.testAllProps=l,h.testStyles=$,h.prefixed=function(e,t,n){return t?l(e,t,n):l(e,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+O.join(" "):""),h}(this,this.document);var module=angular.module("RCP",["ngCookies","ngRoute","LocalStorageModule"]);module.config(["$routeProvider",function(e){e.when("/member-approval",{controller:"maCtrl",templateUrl:"management-center/member-approval/member-approval.html"}).when("/course-approval",{controller:"caCtrl",templateUrl:"management-center/course-approval/course-approval.html"}).when("/member-detail/:account",{controller:"mdCtrl",templateUrl:"management-center/member-detail/member-detail.html"}).otherwise({redirectTo:"/member-approval"})}]),module.controller("mcCtrl",["$scope",function(e){var t=rcpAid.getNoTokenUrl();e.loginUrl=rcpAid.getUrl("登录",{url:t}),e.exitUrl=rcpAid.getUrl("退出")}]),module.controller("maCtrl",["$scope","dialog","ssoMethod",function(e,t,n){function a(e){var t=[];if(e)for(var n=0,a=e.length;a>n;n++){var i=e[n].hasOwnProperty("attrs")&&e[n].attrs.hasOwnProperty("certification"),r={accountList:[].concat(e[n].hasOwnProperty("usr")?e[n].usr:[]),name:i&&e[n].attrs.certification.hasOwnProperty("realName")?e[n].attrs.certification.realName:"",phoneNum:i&&e[n].attrs.certification.hasOwnProperty("phone")?e[n].attrs.certification.phone:"",subTime:i&&e[n].attrs.certification.hasOwnProperty("time")?e[n].attrs.certification.time:"",status:i&&e[n].attrs.certification.hasOwnProperty("status")?e[n].attrs.certification.status:""};t.push(r)}return t}if("u1"!=e.currentUser.uid)return void t.alert("请先登录管理员账号");e.kwSelect=[{name:"用户账号",value:1},{name:"用户姓名",value:2}],e.memberStatus={"全部状态":null,"待审核":"1","不通过":"2","认证通过":"3"},e.certList=[],e.showLoading=!0;var i=function(){e.searchKw="",e.kwSelectValue=e.kwSelect[0],e.currentStatus="全部状态",$("#startTime").val(""),$("#endTime").val(""),e.pageargs={ps:20,pn:1}};e.reset=function(){i()},e.loadCertList=function(i,r,o){var s=+moment($("#startTime").val()).format("x")||"",c=+moment($("#endTime").val()).format("x")||"",l=""==s&&""==c?"":s+","+c;return""==s&&""!=c||""!=s&&""==c?void t.alert("请选择"+(""==s?"开始":"结束")+"时间"):s>c?void t.alert("请选择正确的时间范围"):(e.showLoading=!0,void n.GCertList({param:{pn:e.pageargs.pn,ps:e.pageargs.ps,usr_filter:1==e.kwSelectValue.value?i:"",realname_filter:2==e.kwSelectValue.value?i:"",status_filter:r,time_filter:l,sequence:"-certification.time"}}).then(function(t){e.showLoading=!1,e.certList=a(t.data||[]),"function"==typeof o&&o(t)},function(n){t.alert("获取失败，错误信息："+n.data.data.msg),e.certList=[],e.showLoading=!1}))},e.searchMember=function(){e.pageargs={ps:20,pn:1}},e.changeStatus=function(t){e.currentStatus=t,e.pageargs={ps:20,pn:1}},e.onKeyDown=function(t){13===t.keyCode&&e.searchMember()},e.pagefn=function(t,n){e.loadCertList(e.searchKw||"",e.memberStatus[e.currentStatus],n)},i()}]),module.controller("caCtrl",["$scope","dialog","$routeParams","course",function(e,t,n,a){if(e.courseList=[],e.userList={},e.allCount=0,e.courseStatus={UNCHECKED:200,CHECKED_SUCCESS:100,CHECKED_FAIL:500,FORCE_CLOSE:300},e.currentTab=e.courseStatus.UNCHECKED,e.imgConfig={width:75,height:45},null==e.currentUser||"u1"!=e.currentUser.uid)return void t.alert("请先登录管理员账号");e.showLoading=!0;var i=function(){e.courseName="",e.allCount=0,$("#startTime").val(""),$("#endTime").val(""),e.pageargs={ps:10,pn:1}};e.reset=function(){i()},e.loadCourseList=function(n,i){var r=+moment($("#startTime").val()).format("x")||"",o=+moment($("#endTime").val()).format("x")||"",s=""==r&&""==o?"":r+","+o;if(""==r&&""!=o||""!=r&&""==o)return void t.alert("请选择"+(""==r?"开始":"结束")+"时间");if(r>o)return void t.alert("请选择正确的时间范围");e.showLoading=!0;var c={k:n||void 0,sort:e.currentTab==e.courseStatus.UNCHECKED?-1:-7,status:e.currentTab,pageCount:e.pageargs.ps,page:e.pageargs.pn,time:s,timeMode:1,token:rcpAid.getToken()};a.searchCourse(c).then(function(t){e.courseList=t.data.courses||[],e.userList=t.data.usr||{},e.allCount=t.data.allCount||0,e.showLoading=!1,"function"==typeof i&&(t.pa={total:t.data.allCount,pn:e.pageargs.pn,ps:e.pageargs.ps},i(t))},function(n){t.alert("获取失败，错误信息："+n.data.data.msg),e.courseList=[],e.allCount=0,e.showLoading=!1})},e.verifyCourse=function(n,i,r){0!=i&&1!=i&&10!=i&&t.alert("参数错误");var o={cid:n,pass:i,reason:r||void 0};a.verifyCourse(o).then(function(n){t.alert("操作成功"),e.loadCourseList()},function(e){t.alert("错误代码："+e.data.data.code)})},e.getUserName=function(t){return e.userList.hasOwnProperty(t+"")&&e.userList[t].hasOwnProperty("attrs")&&e.userList[t].attrs.hasOwnProperty("basic")&&e.userList[t].attrs.basic.hasOwnProperty("nickName")?e.userList[t].attrs.basic.nickName:t},e.switchTab=function(t){e.currentTab=t,i()},e.searchCourse=function(){e.pageargs={ps:10,pn:1}},e.pagefn=function(t,n){e.loadCourseList(e.courseName||void 0,n)},e.getCourseUrl=function(e){return rcpAid.getUrl("课程详情",{cid:e,type:2})},e.onKeyDown=function(t){13===t.keyCode&&e.searchCourse()},i()}]),module.controller("mdCtrl",["$scope","dialog","ssoMethod","$routeParams",function(e,t,n,a){function i(e){if(e.length){var t=e[0].hasOwnProperty("attrs")&&e[0].attrs.hasOwnProperty("certification");return{id:e[0].hasOwnProperty("id")?e[0].id:"",name:t&&e[0].attrs.certification.hasOwnProperty("realName")?e[0].attrs.certification.realName:"",phoneNum:t&&e[0].attrs.certification.hasOwnProperty("phone")?e[0].attrs.certification.phone:"",idCardNum:t&&e[0].attrs.certification.hasOwnProperty("idCardNo")?e[0].attrs.certification.idCardNo:"",idCardFront:t&&e[0].attrs.certification.hasOwnProperty("idCardFront")?e[0].attrs.certification.idCardFront:"",idCardBack:t&&e[0].attrs.certification.hasOwnProperty("idCardBack")?e[0].attrs.certification.idCardBack:"",status:t&&e[0].attrs.certification.hasOwnProperty("status")?e[0].attrs.certification.status:"",reason:t&&e[0].attrs.certification.hasOwnProperty("reason")?e[0].attrs.certification.reason:""}}}if(null==e.currentUser||"u1"!=e.currentUser.uid)return void t.alert("请先登录管理员账号");e.member={},e.showLoading=!0;var r=a.account;return r?(n.GCertList({param:{usr_filter:r,p:"1"}}).then(function(n){n.data=n.data||[],n.data.length?e.member=i(n.data):(t.alert("账号不存在"),setTimeout("location.href = rcpAid.getUrl('审核管理', {token: rcpAid.getToken()});",2e3)),e.showLoading=!1},function(n){e.showLoading=!1,t.alert("错误代码："+n.data.code)}),e.certUpdate=function(a,i){return i=i||null,1!=a&&0!=a?void t.alert("参数错误"):($(".cert-btn").addClass("btn-disabled"),void n.UCertStatus({attrs:{certification:{reason:i},pass:{certification:a}},id:e.member.id}).then(function(e){0==e.code&&($(".cd-popup").removeClass("is-visible"),t.alert("操作成功")),setTimeout("location.reload(true)",2e3)},function(e){var n="";switch(e.date.data.code){case 1:n="参数错误";break;case 2:n="json body错误"}t.alert("操作失败"+(""==n?"":"，错误信息："+n)),$(".cert-btn").removeClass("btn-disabled")}))},void(e.failClick=function(){$(".cd-popup").addClass("is-visible")})):(t.alert("账号不能为空"),void setTimeout("location.href = rcpAid.getUrl('审核管理', {token: rcpAid.getToken()});",2e3))}]),module.config(["$provide",function(e){e.decorator("$exceptionHandler",["$delegate",function(e){return function(t,n){e(t,n),console.error({origin:"AngularJS Error",msg:t.message,stack:t.stack}),document.runErrorCallUpgrade()}}])}]),module.controller("mainCtrl",["$scope","$rootScope","$http","service","$cookies","$timeout",function(e,t,n,a,i,r){function o(){var e=localStorage.getItem("anonymousLoginUsr");return e&&"error"!==e?(t.anonymousUser=JSON.parse(e),void(i.stoken=t.anonymousUser.token)):void n({method:"GET",url:"http://"+g_conf.SSO+"/sso/api/anonymousLogin"}).then(function(e){if(0!==e.data.code)return console.error(e.data.msg,"匿名登录失败"),void localStorage.setItem("anonymousLoginUsr","error");var n=e.data.data;n.usr.token=n.token,localStorage.setItem("anonymousLoginToken",n.token),delete n.usr.BAttr,delete n.usr.attrs,localStorage.setItem("anonymousLoginUsr",JSON.stringify(n.usr)),t.anonymousUser=n.usr,i.stoken=n.usr.token},function(e){localStorage.setItem("anonymousLoginUsr","error"),console.error(e,"匿名登录失败")})}function s(n){d.token=rcpAid.getToken(),e.setUserData(UINFO),l(t.currentUser.role),console.log("checkLogin by token")}function c(e){console.log("未登陆",e),rcpAid.isLogin=0,l({}),r(function(){t.$broadcast("login","")},0)}function l(t){function n(t){angular.forEach(t,function(t){var n=!1;angular.forEach(e.itemList,function(e){t.name===e.name&&(n=!0)}),n||e.itemList.push(t)})}function a(){var e=rcpAid.getUrl,t=[];return angular.forEach(arguments,function(n){switch(n){case"学习中心":t.push({ic:"L2",name:n,href:e(n)});break;case"教学中心":t.push({ic:"L2",name:n,href:e(n)});break;case"助学中心":"undefined"==typeof isIE||isIE(9,9)||t.push({ic:"L2",name:n,href:e(n)});break;case"管理中心":t.push({ic:"L1",name:n,href:e(n)});break;case"创建新课程":t.push({ic:"L4",name:n,href:e("创建课程",{type:10})})}}),t}e.itemList=[],angular.forEach(t,function(t,i){switch(i){case"default":break;case"student":e.user.schoolId&&n(a("学校空间")),e.user.classId&&n(a("班级空间"));break;case"parent":n(a("家长空间"));break;case"teacher":e.user.schoolId&&n(a("学校空间")),e.user.classId&&n(a("班级空间"));break;case"help":n(a("助学中心"));break;case"class":n(a("班级空间","学校空间"));break;case"school":n(a("学校空间"));break;case"UCS_ADMIN":n(a("管理中心"));break;case"COURSE_VERIFY_ADMIN":n(a("管理中心"));break;case"PAGE_EDIT_ADMIN":n(a("管理中心"))}}),n(a("学习中心","教学中心","创建新课程","创建新题库"))}function u(){return t.currentUser={},$("body").show(),a.common.checkLogin(s,c),rcpAid.isLogin?void 0:(console.log("未登陆"),void o())}$("body").show();var d={};try{d=new ars.ARS,d.args={},d.delay=1e3,d.pushDelay=1e4,d.url=DYCONFIG.ars.rUrl+"pub/api/record",d.token=rcpAid.getToken(),d.start()}catch(f){d={}}e.setUserData=function(e){try{if(console.log(e),!e.uid)return;t.currentUser={uid:e.usr.id,nickName:e.usr.attrs.basic.nickName,avatar:e.usr.attrs.basic.avatar,desc:e.usr.attrs.basic.desc,role:e.usr.attrs.role||""},e.usr.attrs.pass&&(t.currentUser.certification=e.usr.attrs.pass.certification),console.log("发广播",t.currentUser),r(function(){t.$broadcast("login",t.currentUser)},0)}catch(n){console.log(n)}},u()}]),module.factory("course",["request",function(e){var t=DYCONFIG.course.rUrl;return{getCourseDetail:function(n,a){n.token=rcpAid.getToken();var i={method:"GET",url:t+"pub/api/loadCourse",params:n};return e(angular.extend(i,a||{}))},getTeacherCourses:function(n,a){n.token=rcpAid.getToken(),n.isSelf=1;var i={method:"GET",url:t+"pub/api/searchCourse",params:n};return e(angular.extend(i,a||{}))},joinFreeCourse:function(n,a){n.token=rcpAid.getToken();var i={method:"GET",url:t+"usr/api/joinCourse",params:n};return e(angular.extend(i,a||{}))},searchCourse:function(n,a){var i={method:"GET",url:t+"pub/api/searchCourse",params:n};return e(angular.extend(i,a||{}))},verifyCourse:function(n,a){n.token=rcpAid.getToken();var i={method:"GET",url:t+"usr/api/verifyCourse",params:n};return e(angular.extend(i,a||{}))},createCourse:function(n,a,i){n.token=rcpAid.getToken();var r={method:"POST",url:t+"usr/api/createCourse",params:n,data:i};return e(angular.extend(r,a||{}))},getStudentCourse:function(n,a){n.token=rcpAid.getToken(),n.isSelf=10;var i={method:"GET",url:t+"pub/api/searchCourse",params:n};return e(angular.extend(i,a||{}))},releaseCourse:function(n,a){n.token=rcpAid.getToken();var i={method:"GET",url:t+"usr/api/releaseCourse",params:n};return e(angular.extend(i,a||{}))},saveCourseData:function(n,a){var i={};i.token=rcpAid.getToken();var r={method:"POST",url:t+"usr/api/updateCourse",params:i,data:n};return e(angular.extend(r,a||{}))},cancelCourse:function(n,a){n.token=rcpAid.getToken();var i={method:"POST",url:t+"usr/api/cancelCourse",params:n};return e(angular.extend(i,a||{}))},getListGroup:function(n,a){n.token=rcpAid.getToken();var i={method:"GET",url:t+"pub/api/listGroup",params:n};return e(angular.extend(i,a||{}))},getAllTags:function(t,n){t.token=rcpAid.getToken();var a={method:"POST",url:DYCONFIG.pes.rUrl+'pub/api/page/GetPage?keys=[{"key":"p_classifi"}]',params:t};return e(angular.extend(a,n||{}))},updateArticleExt:function(n,a){n.token=rcpAid.getToken();var i={method:"GET",url:t+"usr/api/updateExt",params:n};return e(angular.extend(i,a||{}))},getArticleExt:function(n,a){n.token=rcpAid.getToken();var i={method:"GET",url:t+"pub/api/listArtExt",params:n};return e(angular.extend(i,a||{}))}}}]),module.run(["service","course",function(e,t){e.expand("course",function(){return t})}]),module.factory("ssoMethod",["request",function(e){var t=DYCONFIG.sso.rUrl;return{getUserAttrs:function(){return UINFO&&UINFO.usr&&UINFO.usr.attrs?UINFO.usr.attrs:void 0},userInfo:function(n,a){n=n||{},n.token=rcpAid.getToken();var i={method:"GET",url:t+"sso/api/uinfo",params:n};return e(angular.extend(i,a||{}))},updateUser:function(n,a){var i={method:"POST",url:t+"usr/api/update",params:{token:rcpAid.getToken()},data:n};return e(angular.extend(i,a||{}))},sendMessage:function(n,a){n.token=rcpAid.getToken();var i={method:"GET",url:t+"tlogin/api/sendMessage",params:n};return e(angular.extend(i,a||{}))},bindPhone:function(n,a){n.token=rcpAid.getToken();var i={method:"GET",url:t+"tlogin/api/bindPhone",params:n};return e(angular.extend(i,a||{}))},resetPassword:function(n,a){n.token=rcpAid.getToken();var i={method:"GET",url:t+"tlogin/api/resetPwd",params:n};return e(angular.extend(i,a||{}))},GCertList:function(n,a){n.token=rcpAid.getToken();var i={method:"GET",url:t+"cert/api/list",params:n};return e(angular.extend(i,a||{}))},UCertStatus:function(n,a){var i={method:"POST",url:t+"cert/api/update",params:{token:rcpAid.getToken()},data:n};return e(angular.extend(i,a||{}))}}}]),module.run(["service","ssoMethod",function(e,t){e.expand("ssoMethod",function(){return t})}]);try{if("object"!=typeof module)var module=angular.module("directive",[])}catch(e){var module=angular.module("directive",[])}module.directive("placeholder",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,a){try{var i="<style>.placeholder-style{color: gray;};</style>";0===document.getElementsByClassName("placeholder-style").length&&angular.element(document).find("head").append(i);var r=function(e,t){var n,a=window.navigator.userAgent.toLowerCase();if(-1!==a.indexOf("msie")){var i=a.match(/msie\s([0-9]*)/);n=0===arguments.length?i[1]:1===arguments.length?parseInt(i[1])===e:i[1]>=e&&i[1]<=t?i[1]:!1}return n};if(r(8,9)){a.$modelValue||a.$modelValue===!1||0===a.$modelValue||(t.val(n.placeholder),t.addClass("placeholder-style"));try{a.$setViewValue()}catch(o){}if("password"===n.type){t.removeClass("placeholder-style");var s=(new Date).getTime(),c=n.style||"",l=n["class"]||"";t.after('<input id="'+s+'" type="text" value="'+n.placeholder+'" autocomplete="off" style="'+c+'" class="'+l+' placeholder-style" />');var u=t.next();u.css("display","inline-block"),t.css("display","none"),u.on("focus",function(){t.css("display","inline-block"),u.css("display","none"),t.on("focus",function(){})})}var d=!1;t.on("focus",function(){d=!0,"password"===n.type?a.$modelValue||t.val(""):(t.removeClass("placeholder-style"),t.val()!==n.placeholder||a.$modelValue&&a.$modelValue!==n.placeholder||t.val(""))}),t.on("blur",function(){d=!1,"password"===n.type?""===t.val()&&(u.css("display","inline-block"),t.css("display","none")):t.val()||a.$modelValue||(t.val(n.placeholder),t.addClass("placeholder-style"))}),e.$watch(function(){return a.$modelValue},function(e){e?t.removeClass("placeholder-style"):d===!1&&(t.val(n.placeholder),t.addClass("placeholder-style"))})}}catch(o){}}}}),module.factory("headSearch",["request",function(e){var t=g_conf.pes.rUrl;return{SearchIntelligent:function(n,a){var i={method:"GET",url:t+"pub/api/SearchIntelligent",params:n,option:{loading:!1}};return e(angular.extend(i,a||{}))}}}]),module.run(["service","headSearch",function(e,t){e.expand("headSearch",function(){return t})}]),module.directive("headnav",function(){return{template:'<header><div ng-class="headMaximizeLock ? \'head-maximize\' : \'head-minimize\'"><div ng-class="param.style"><div class="image-head-rainbow decoration-ic"></div><section class="g-m-w header-area"><div class="minimize-logo"><a ng-href="{{param.logo.href||\'/\'}}"><img ng-src="{{param.logo.small}}" alt="{{param.logo.msg}}" title="{{param.logo.msg}}"></a></div><nav class="minimize-nav"><ul><li ng-repeat="item in navList track by $index" ng-class="item.class"><a ng-href="{{item.href || \'\'}}" target="{{item.target || \'_self\'}}">{{item.name}}</a><div ng-if="item.child.length"><ul><li ng-repeat="c in item.child"><a ng-href="{{c.href || \'\'}}" target="{{c.target || \'_self\'}}">{{c.name}}</a></li></ul></div></li></ul></nav><div class="logo"><a ng-href="{{param.logo.href||\'/\'}}"><img ng-src="{{param.logo.large}}" alt="{{param.logo.msg}}" title="{{param.logo.msg}}"></a></div><div class="top-user-menu-bar" ng-class="{clearminw: user.account}"><top-user-menu user="user" item-list="itemList"></top-user-menu></div><div class="h-sc" ng-controller="headSearchCtrl"><div class="head-search-bar"><div class="enter" ng-click="stopPropagation($event)"><input type="text" class="input" ng-model="scText" ng-keydown="onkeydown($event)" ng-change="matchChange(scSelectVal.value,scText)" placeholder="请输入关键词搜索"><div class="match-kw-v" ng-show="matchReadyLock"><div class="mc-list"><ul><li ng-if="!mcCourseList || !mcCourseList.length">暂无相关内容</li><li ng-repeat="item in mcCourseList track by $index" ng-click="intoDetail(item)" ng-if="$index < cMaxLen" ng-class="{hover: $index + lMaxLen == moveKeyIndex}" ng-mouseenter="mouseenter($index, \'资源\')"><div class="text-of pd-r10"><span class="lab" ng-if="item.t == 10">课程</span> <span class="lab" ng-if="item.t == 20">题库</span> <a class="item-name" ng-bind-html="item.name | titleMatchKw:scText"></a></div></li></ul></div></div></div><a ng-click="goToSearch(scSelectVal.value,scText)" class="submit" title="提交"><i class="fa fa-search" aria-hidden="true"></i></a></div><div class="hot-word"><a ng-href="javascript:void(0);" ng-click="goToSort(item.name)" class="mg-r20" ng-repeat="item in scHotWord">{{item.name}}</a></div></div></section><section class="nav-area"><div class="g-m-w"><div class="n-categories" ng-controller="categoriesCtrl" ng-mouseenter="service.mouseenter(hover)" ng-mouseleave="service.mouseleave(hover)"><div class="dt">全部课程</div><div class="dd" id="by-categories" ng-show="categoriesUnfoldLock || hover.mouseEnterLock"><div class="image-giraffe giraffe-icon"></div><div class="dd-inner"><div class="item" ng-repeat="item in categoriesListStyle1 track by $index" ng-mouseenter="service.mouseenter(item)" ng-mouseleave="service.mouseleave(item)" ng-show="$index<5 || hover.mouseEnterLock"><div class="layer"><h3><a ng-href="goToCategory(item.name)" target="_blank" title="{{item.name}}">{{item.name}}</a></h3><div class="hot-word"><a ng-href="goToCategory(item.name,child.name)" target="_blank" class="text-of" ng-repeat="child in item.child track by $index" ng-show="$index<3" title="{{child.name}}">{{child.name}}</a></div><i>&gt;</i></div><div class="sub" ng-show="item.mouseEnterLock"><div class="inner"><dl class="card" ng-repeat="child in item.child track by $index" ng-show="$index<3"><dt><a ng-href="goToCategory(item.name,child.name)" target="_blank" class="f-r">更多&gt;&gt;</a> <a ng-href="goToCategory(item.name,child.name)" target="_blank" title="{{child.name}}">{{child.name}}</a></dt><dd><a ng-href="goToCategory(item.name,child.name,unit.name)" target="_blank" class="text-of" ng-repeat="unit in child.child track by $index" ng-show="$index<15" title="{{unit.name}}">{{unit.name}}</a></dd></dl><div class="more-srot" ng-show="item.child.length>3"><a ng-href="goToCategory(item.name)" target="_blank" class="f-r">更多分类&gt;&gt;</a>. . .</div></div></div></div><div ng-repeat="list in categoriesListStyle2 track by $index"><div class="big-sort"><a ng-href="goToCategory(item.name)" target="_blank" title="{{list.name}}">{{list.name}}</a></div><div class="item" ng-repeat="item in list.child track by $index" ng-mouseenter="service.mouseenter(item)" ng-mouseleave="service.mouseleave(item)"><div class="layer"><h3><a ng-href="goToCategory(list.name,item.name)" target="_blank" title="{{item.name}}">{{item.name}}</a></h3><i>&gt;</i></div><div class="sub" ng-show="item.mouseEnterLock"><div class="inner"><dl class="card" ng-repeat="child in item.child track by $index" ng-show="$index<4"><dt><a ng-href="goToCategory(list.name,item.name,child.name)" target="_blank" class="f-r">更多&gt;&gt;</a> <a ng-href="goToCategory(list.name,item.name,child.name)" target="_blank" title="{{child.name}}">{{child.name}}</a></dt><dd><a ng-href="goToCategory(list.name,item.name,child.name,unit.name)" target="_blank" class="text-of" ng-repeat="unit in child.child track by $index" ng-show="$index<10" title="{{unit.name}}">{{unit.name}}</a></dd></dl><div class="more-srot" ng-show="item.child.length>4"><a ng-href="goToCategory(list.name,item.name)" target="_blank" class="f-r">更多分类&gt;&gt;</a>. . .</div></div></div></div></div></div></div></div><nav class="nav"><a ng-repeat="item in navList track by $index" ng-href="{{item.href || \'\'}}" target="{{item.target || \'_self\'}}" ng-class="item.class">{{item.name}}</a></nav><div class="extra" ng-show=""><a href="javascript:void(0);" class="icf t-icf">名师认证</a> <a href="javascript:void(0);" class="icf e-icf">真实评价</a> <a href="javascript:void(0);" class="icf r-icf">随时退</a></div></div></section></div></div></header>',restrict:"E",replace:!0,
transclude:!0,scope:{itemList:"=itemList",user:"=user",nav:"="},controller:["$rootScope","$scope","$element","$attrs","service",function(e,t,n,a,i){t.service=i,t.catType=parseInt(rcpAid.getCourseCat()),e.$watch("headMaximizeLock",function(e){e&&(t.headMaximizeLock=e)}),e.$watch("categoriesUnfoldLock",function(e){e&&(t.categoriesUnfoldLock=e)}),e.$watch("catDomain",function(e){if(e)switch(e){case"aikexue.com":t.init(2)}}),t.$on("login",function(e,n){n&&t.loginInit()}),t.loginInit=function(){3===t.catType&&(t.navList=[{name:"学习中心",href:rcpAid.getUrl("学习中心"),"class":"key",target:"_blank"},{name:"教学中心",href:rcpAid.getUrl("教学中心",{uid:t.user.tid}),"class":"key",target:"_blank"},{name:"高等教育",href:rcpAid.getUrl("分类",{category:"高等教育"}),"class":"key",target:"_blank"}])},t.init=function(e){if("order"===t.nav)return t.navList=[{name:"首页",href:rcpAid.getUrl("首页"),"class":"key"},{name:"个人空间",href:rcpAid.getUrl("学习中心"),"class":"key",target:"_blank"}],void(t.param={logo:{small:"/rcp-common/imgs/order/head-icon.png",large:"/rcp-common/imgs/icon/head-icon.png",href:"/my-order.html",msg:"我的酷校"},style:""});switch(t.catType){case 3:t.isLogin?t.navList=[{name:"学习中心",href:rcpAid.getUrl("学习中心"),"class":"key",target:"_blank"},{name:"教学中心",href:rcpAid.getUrl("教学中心",{uid:t.user.tid}),"class":"key",target:"_blank"},{name:"高等教育",href:rcpAid.getUrl("分类",{category:"高等教育"}),"class":"key",target:"_blank"}]:t.navList=[{name:"高等教育",href:rcpAid.getUrl("分类",{category:"高等教育"}),"class":"key",target:"_blank"}],t.param={logo:{small:"/rcp-common/imgs/icon/gzmooc-logo.png",large:"/rcp-common/imgs/icon/gzmooc-logo.png",href:DYCONFIG.rcp.rUrl,msg:"酷校 - 首页"},style:""};break;case 2:t.navList=[{name:"首页",href:rcpAid.getUrl("首页"),"class":"key"},{name:"全部课程",href:rcpAid.getUrl("分类"),"class":"key",target:"_blank"},{name:"学习中心",href:rcpAid.getUrl("学习中心"),"class":"key",target:"_blank"}],t.param={logo:{small:"/rcp-common/imgs/icon/aikexue-logo-2.png",large:"/rcp-common/imgs/icon/aikexue-logo.png",href:DYCONFIG.rcp.rUrl,msg:"爱科学"},style:"aikexue-head"};break;default:t.navList=[{name:"首页",href:rcpAid.getUrl("首页"),"class":"key"},{name:"学习中心",href:rcpAid.getUrl("学习中心"),"class":"key",target:"_blank"},{name:"我要吐槽",href:rcpAid.getUrl("我要吐槽"),"class":"key",target:"_blank"}],t.param={logo:{small:"/rcp-common/imgs/icon/book-logo-2.png",large:"/rcp-common/imgs/icon/book-logo.png",href:DYCONFIG.rcp.rUrl,msg:"酷校LOGO·让学习更Cool"},style:""}}},t.init()}]}}),module.directive("topUserMenu",function(){return{template:'<div class="top-user-menu"><div style="font-size:14px;line-height:40px" ng-show="!currentUser.uid"><a ng-href="{{link.login}}" id="login" class="color-cyan pd-l20"><i class="image-login-user-ic"></i>马上登录 </a><span style="color:#ececec;margin:0 8px">| </span><a ng-href="{{link.register}}" class="color-cyan">注册</a></div><div class="menber-link" ng-show="currentUser.uid"><a href="" class="u-info" rel="member_link"><img ng-hide="currentUser.avatar" src="/rcp-common/imgs/face/d-face-1.png" class="face-img" width="40" height="40" rel="user_face" alt="{{currentUser.nickName}}"> <img ng-show="currentUser.avatar" ng-src="{{currentUser.avatar}}" class="face-img" width="40" height="40" rel="user_face" alt="{{currentUser.nickName}}"> <span class="name" rel="user_name" title="{{currentUser.nickName}}" ng-bind="currentUser.nickName"></span> <i class="x-arrow-dowm">&gt;</i></a><div class="u-panel"><div class="tup-box"><div class="tup-info" rel="user_info_box"><div class="user-head" rel="user_face_box"><a ng-href="{{link.setting}}"><img ng-hide="currentUser.avatar" src="/rcp-common/imgs/face/d-face-1.png" width="96" height="96" class="face-img" rel="user_face" alt="{{currentUser.nickName}}"> <img ng-show="currentUser.avatar" ng-src="{{currentUser.avatar}}" width="96" height="96" class="face-img" rel="user_face" alt="{{currentUser.nickName}}"></a></div><div class="user-identity"><p class="user-name text-of"><a href="" rel="user_name" title="{{currentUser.nickName}}" ng-bind="currentUser.nickName"></a></p><p class="attestation-un" ng-class="{\'attestation\':attestation==\'已认证\'}"><i class="image-attestation-yellow"></i> <span>{{attestation}}</span></p></div><div class="clear"></div></div><div class="tup-operate"><div class="card-sets"><a href="{{link.applySpaceUrl}}" class="key f-l"><i class="image-attestation"></i> <span class="text-4f">认证管理</span> </a><a href="{{link.setting}}" target="_blank" class="key f-l"><i class="image-settings"></i> <span class="text-4f">设置</span> </a><a href="" class="key f-r" ng-click="logout()"><i class="image-logout"></i> <span class="text-4f">退出</span></a></div><div class="card-links"><a ng-repeat="item in itemList" ng-href="{{item.href || \'\'}}" ng-class="item.name == \'...\' ? \'disabled key \'+item.icon : \'key \'+item.icon"><i></i> <span>{{item.name}}</span></a></div></div></div></div></div></div>',restrict:"E",replace:!0,transclude:!0,scope:{itemList:"=itemList",user:"=user"},controller:["$rootScope","$scope","$timeout","$location","service",function(e,t,n,a,i){t.$watch("itemList",function(e){if(e){var n=t.itemList.length,a=n%3;if(a)for(var i=3-n%3+n,r=n;i>r;r+=1)e.push({name:"..."})}},!0),t.logout=function(){var e=rcpAid.getUrl("首页");location.href=rcpAid.getUrl("退出",{url:encodeURIComponent(e)})},t.$on("login",function(e,n){n.uid&&t.loginInit()}),t.loginInit=function(){t.currentUser=e.currentUser,t.currentUser.certification&&(t.attestation="已认证")},t.init=function(){var e=rcpAid.getNoTokenUrl();t.link={login:rcpAid.getUrl("登录",{url:encodeURIComponent(e)}),register:rcpAid.getUrl("注册",{url:encodeURIComponent(e)}),applySpaceUrl:rcpAid.getUrl("实名认证"),setting:rcpAid.getUrl("个人设置",{url:window.location.href})},t.attestation="未认证"},t.init()}]}}),module.controller("categoriesCtrl",["$rootScope","$scope","service",function(e,t,n){function a(e){switch(e){case 2:t.categoriesListStyle2=i||[];break;default:t.categoriesListStyle1=i||[]}}t.service=n,t.hover={},t.catType=rcpAid.getCourseCat(),t.byCategories=function(){t.byCategoriesLoading=!0,a(t.catType)},t.listenerMember={byCategories:{node:"#by-categories",callback:t.byCategories}};var i;t.goToCategory=function(){var e=[].slice;return rcpAid.getUrl("分类",{tags:e.call(arguments,0).join(",")})}}]),module.directive("searchDir",function(){return{template:'<div class="h-sc"><div class="head-search-bar"><div class="enter" ng-click="stopPropagation($event)"><input type="text" class="input" ng-model="scText" ng-keydown="onkeydown($event)" ng-change="matchChange(scSelectVal.value,scText)" placeholder="请输入关键词搜索"><div class="match-kw-v" ng-show="matchReadyLock"><div class="mc-list"><ul><li ng-repeat="item in mcCategoryList track by $index" ng-if="$index < lMaxLen" ng-class="{hover: $index == moveKeyIndex}" ng-mouseenter="mouseenter($index,\'类\')" ng-click="matchGoToCategory(item.tag,scText)"><div class="text-of"><a href="javascript:;">{{text}}</a> 在 <a href="javascript:;" class="item-name color-cyan">{{item.tag}}</a> 分类中搜索</div></li></ul><div style="margin:0 10px;border-top:1px solid #dfdfdf" ng-if="mcCourseList.length && mcCategoryList.length"></div><ul><li ng-if="!mcCourseList || !mcCourseList.length">暂无相关内容</li><li ng-repeat="item in mcCourseList track by $index" ng-click="intoDetail(item)" ng-if="$index < cMaxLen" ng-class="{hover: $index + lMaxLen == moveKeyIndex}" ng-mouseenter="mouseenter($index,\'资源\')"><div class="text-of"><span class="lab" ng-if="item.t == 10">课程</span> <span class="lab" ng-if="item.t == 20">题库</span> <a href="javascript:;" class="item-name" ng-bind-html="item.name|titleMatchKw:scText"></a></div></li></ul></div></div></div><a ng-click="goToSearch(scSelectVal.value,scText)" class="submit" title="提交"><i class="fa fa-search" aria-hidden="true"></i></a></div><div class="hot-word"><a href="" class="mg-r20" ng-repeat="item in scHotWord" ng-click="goToSort(item.name)">{{item.name}}</a></div></div>',restrict:"E",replace:!0,transclude:!0,scope:{hot:"="},controller:"headSearchCtrl"}}),module.controller("headSearchCtrl",["$rootScope","$scope","$document","$element","service","headSearch",function(e,t,n,a,i,r){function o(){t.scText="",d()}function s(){k=!0,t.KeyDownIndex=t.moveKeyIndex,u()}function c(){"number"!=typeof t.moveKeyIndex?t.moveKeyIndex=0:t.moveKeyIndex=(t.moveKeyIndex+1)%t.aMaxLen,s()}function l(){"number"!=typeof t.moveKeyIndex?t.moveKeyIndex=t.aMaxLen-1:t.moveKeyIndex=t.moveKeyIndex<0?t.aMaxLen-1:t.moveKeyIndex-1,s(),h(t.scText.length)}function u(){var e,n=t.KeyDownIndex,a=t.lMaxLen;return t.scTag=void 0,a>n&&(t.scText=t.text),n>=a&&(e=t.mcCourseList[n-t.lMaxLen],e&&(t.scText=e.name)),e}function d(e){t.matchReadyLock=!1,e&&(n.unbind("click"),t.$digest())}function f(){n.unbind("click").bind("click",function(){d("digest")}),t.matchReadyLock=!0}function m(){t.matchReadyLock&&(clearTimeout(w),w=setTimeout(function(){d("digest")},300))}function h(e){var t=a.find('input[ng-model="scText"]').get(0);if("selectionStart"in t&&(t.selectionStart=e,t.selectionEnd=e),"createTextRange"in t){var n=t.createTextRange();n.moveStart("character",e),n.collapse(!0),n.select()}}function p(e,n){t.inSort&&!angular.isArray(e)||angular.forEach(e,function(e){return t.inSort?!1:void(n(e)||angular.isArray(e.child)&&e.child.length&&(p(e.child,n),v("push",e.name)))})}function g(e,n){switch(t.inSort=!1,v("clear"),p(e,function(e){return t.inSort=e.name===n,t.inSort&&v("push",e.name),t.inSort}),t.inSort){case!0:v("splice",n);break;default:v("clear")}return t.categorySelect}function v(e,n){var a=t.categorySelect;switch(e){case"clear":a.splice(0,a.length);break;case"push":a.push(n);break;case"splice":a.splice(0,$.inArray(n,a))}}function y(e,t){i.dialog.alert(t),console[e](t)}function b(e){var t=[];if(e.length)for(var n=0,a=e.length;a>n;n++)t.push({id:e[n].hasOwnProperty("id")?e[n].id:"",name:e[n].hasOwnProperty("title")?e[n].title:"",t:e[n].hasOwnProperty("type")?e[n].type:""});return t}t.scHotWord=[],t.scSelect=[{name:"所有分类",value:"",fixLock:!0},{name:"课程",value:10},{name:"题库",value:20}],t.scSelectVal=t.scSelect[0],t.onkeydown=function(e){switch(e.stopPropagation(),e.keyCode){case 13:t.scText||(t.scText=$(".head-search-bar input").eq(0).val());var n=t.KeyDownIndex,a=t.lMaxLen;"number"==typeof n&&n>=0&&a>n&&t.scTag?t.matchGoToCategory(t.scTag,t.scText):n>=0&&t.matchReadyLock?location.href=rcpAid.getUrl("课程详情",{cid:t.mcCourseList[n].id}):t.goToSearch(t.scSelectVal.value,t.scText);break;case 38:l();break;case 40:c();break;default:k=!1,t.moveKeyIndex=void 0,t.KeyDownIndex=void 0,t.scTag=void 0}};var k,w;a.find('input[ng-model="scText"]').unbind("focus").bind("focus",f),a.find('input[ng-model="scText"]').unbind("blur").bind("blur",m),t.mouseenter=function(e,n){switch(n){case"类":t.moveKeyIndex=e;break;case"资源":t.moveKeyIndex=e+t.lMaxLen}},t.goToSearch=function(e,t){o(),location.href=rcpAid.getUrl("搜索",{type:e,query:t?encodeURIComponent(t):t})},t.goToSort=function(e){o(),location.href=rcpAid.getUrl("分类",{tags:e})},t.stopPropagation=function(e){e.stopPropagation()},t.matchChange=function(e,n){if(!k){if(d(),!n)return t.mcCategoryList=[],void(t.mcCourseList=[]);t.text=n,r.SearchIntelligent({key:n,courseType:e||null,limit:10}).then(function(e){t.scText&&(t.matchReadyLock=!0,t.mcCourseList=b(e.data.courses||[]),t.mcCategoryList=[],t.lMaxLen=t.mcCategoryList.length>3?3:t.mcCategoryList.length,t.cMaxLen=t.mcCourseList.length-t.lMaxLen,t.aMaxLen=t.lMaxLen+t.cMaxLen,t.mcCourseList.length||t.mcCategoryList.length||d())},function(e){y("错误代码："+e.data.data.code)})}},t.$watch("scSelectVal.value",function(){t.matchChange(t.scSelectVal.value,t.scText)}),t.matchGoToCategory=function(t,n){if(!e.allTagCategroy||!e.allTagCategroy.length)return void y("error","获取分类数据失败");var a=g(e.allTagCategroy,t).reverse().join(",");a?(o(),location.href=rcpAid.getUrl("分类",{tags:a,query:n})):y("error","找不到这个分类，请检查接口数据")},t.categorySelect=[],t.intoDetail=function(e){e.hasOwnProperty("id")&&(location.href=rcpAid.getUrl("课程详情",{cid:e.id}))}}]),module.directive("tailnav",function(){return{template:'<footer><section class="footer" id="footer"><div class="g-m-w"><div class="copyright"><p>广州市大洋信息技术股份有限公司 版权所有</p><p>Copyright © 2015 ITDAYANG. All Rights Reserved.</p><p>{{caseNumber}}</p></div><div class="footer-link"><a href="http://www.itdayang.com/about.html" target="_blank">关于我们</a> <span>- </span><a href="http://www.itdayang.com/contact.html" target="_blank">联系我们</a> <span>- </span><a href="javascript:;" ng-click="atBuilding()">法律条款</a> <span>- </span><a href="javascript:;" ng-click="atBuilding()">帮助中心</a> <span>- </span><a href="javascript:;" ng-click="atBuilding()">学校申请加入</a> <span>- </span><a href="javascript:;" ng-click="atBuilding()">机构申请加入</a> <span>- </span><a href="javascript:;" ng-click="atBuilding()">意见反馈</a></div><div class="clear"></div></div></section></footer>',restrict:"E",replace:!0,transclude:!0,scope:{data:"=data"},controller:["$scope","service",function(e,t){e.catType=rcpAid.getCourseCat();var n=DYCONFIG.domain||[];angular.forEach(n,function(t){t.domain===location.host&&(e.caseNumber=t.domainNum)}),e.atBuilding=function(){t.dialog.alert("正在建设中...")}}]}}),module.filter("titleMatchKw",["$sce",function(e){return function(t,n){var a="<b>"+n+"</b>",i=/([\[\]\(\)\{\}\*\?\+\^\$\.\|\\])/gi,r=n.replace(i,"\\$1");return t=t.replace(new RegExp(r,"ig"),a),e.trustAsHtml(t)}}]),function(){function e(){var i=document.getElementById("footer");if(i){var r=document.documentElement.scrollHeight-1||document.body.scrollHeight-1,o=document.documentElement.clientHeight||document.body.clientHeight;a=o>=r?1:2,a!==n&&(o>=r?(t(i.parentNode,{height:i.offsetHeight+"px"}),t(i,{position:"absolute",width:"100%",bottom:0,left:0})):(t(i.parentNode,{height:i.offsetHeight+"px"}),t(i,{position:"",width:"100%",bottom:0,left:0}))),n=o>=r?1:2}setTimeout(e)}if(!window.fixedFooterFlag){window.fixedFooterFlag=!0;var t=function(e,t){for(k in t)e.style[k]=t[k]},n=0,a=1;e()}}(),module.directive("datetime",function(){return{template:'<span ng-style="style"><input type="text" ng-class="config.class" ng-model="value" placeholder="{{config.placeholder}}" ng-click="toggle($event)" readonly /></span>',restrict:"E",replace:!0,transclude:!0,scope:{value:"=value",startdate:"=startdate",enddate:"=enddate",config:"=config"},controller:["$scope","$element","$document","$compile","$interval","datetimeService",function(e,t,n,a,i,r){e.style={position:"relative",display:"inline-block",cursor:"default"},e.config.noInput&&(e.style.display="none"),e.toggle=function(o){return r.tpl&&(n.unbind("click"),r.tpl.remove(),r.tag===t)?(delete r.tpl,void i.cancel(r.clockTimer)):(r.tag=t,r.tpl=a('<datetime-tpl value="value" config="config"></datetime-tpl>')(e),e.config.noInput?e.config.targetElement.append(r.tpl):t.append(r.tpl),n.bind("click",e.toggle),void o.stopPropagation())},r.toggle=e.toggle}]}}),module.directive("datetimeTpl",function(){return{template:["<div ng-class=\"timeFlag ? 'datetime-w and-time-style' : 'datetime-w'\" ng-click=\"stopPropagation($event)\">",'<div style="cursor:default">','<em class="arrow-ic"></em>','<div class="show-time-box">','<div class="now-time">',"<p>当前时间</p>","<span>{{clockString}}</span>","</div>",'<div style="padding: 15px 0px;">',"<select ",'class="hour" ','ng-options="item.str for item in hourList" ','ng-model="repeatData.hour" ','ng-change="change({hour: repeatData.hour})"></select>',"</div>","<div>","<select ",'class="minute" ','ng-options="item.str for item in minuteList" ','ng-model="repeatData.minute" ','ng-change="change({minute: repeatData.minute})"></select>',"</div>","</div>",'<div class="show-date-box">','<div class="t">','<a href="javascript:;" class="p" title="上一月" ng-click="mBefore()"></a>','<a href="javascript:;" class="n" title="下一月" ng-click="mAfter()"></a>',"<select ",'class="y" ','ng-options="item.str for item in yearList" ','ng-model="repeatData.year" ','ng-change="change({year: repeatData.year})"></select>',"<select ",'class="m" ','ng-options="item.str for item in monthList" ','ng-model="repeatData.month" ','ng-change="change({month: repeatData.month})"></select>','<div class="w">',"<h4>一</h4>","<h4>二</h4>","<h4>三</h4>","<h4>四</h4>","<h4>五</h4>","<h4>六</h4>","<h4>日</h4>","</div>","</div>",'<div class="c">','<a ng-repeat="item in dayList" ng-class="item.class" ng-click="change({day: item})">{{item.val}}</a>',"</div>",'<div class="f">','<a href="javascript:;" class="clear" ng-click="clearValue()">清空</a>','<a href="javascript:;" class="today" ng-click="today()">今日</a>','<a href="javascript:;" class="cancel" ng-click="cancel()">取消</a>',"</div>","</div>","</div>","</div>"].join(""),restrict:"E",replace:!0,transclude:!0,scope:{value:"=value",config:"=config"},controller:["$scope","$element","$timeout","$interval","$document","datetimeService",function(e,t,n,a,i,r){function o(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function s(t,n,a,i,r){for(var s=[];n>t;){var c={val:t,str:o("month"===i[0]?t+1:t,a)+(r||"")};s.push(c),c.val===i[1]&&(e.repeatData[i[0]]=c),t+=1}return s}function c(t,n,a){var i=new Date,r=i.getFullYear(),o=i.getMonth(),s=i.getDate(),c=e.newDate.getFullYear(),l=e.newDate.getMonth(),u=e.newDate.getDate(),d="d ",f=function(e){e&&(d+="d-able "),t===c&&n===l&&a===u&&(d+=e?"d-now ":"d-disabled ")};return f(e.expiredFlag?r>t||t===r&&o>n||t===r&&n===o&&s>=a:e.realFlag?t>r||t===r&&n>o||t===r&&n===o&&a>=s:!0),d}function l(e){return e%4===0&&e%100!==0||e%400===0}function u(e,t){return 1===t||3===t||5===t||7===t||8===t||10===t||12===t?31:4===t||6===t||9===t||11===t?30:2===t&&l(e)?29:28}function d(e,t){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in n)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[a]:("00"+n[a]).substr((""+n[a]).length)));return t}e.oldDate=new Date,e.newDate=new Date,e.curDate=new Date,e.repeatData={},e.expiredFlag=e.config.style.match("expired"),e.realFlag=e.config.style.match("real"),e.timeFlag=e.config.style.match("time"),e.formatType=e.timeFlag?"yyyy-MM-dd hh:mm":"yyyy-MM-dd",e.setSelect=function(t,n,a,i){e.yearList=s(1901,t+100,4,["year",t],"年"),e.monthList=s(0,12,2,["month",n],"月"),e.hourList=s(0,24,2,["hour",a],"点"),e.minuteList=s(0,60,2,["minute",i],"分")},e.setDay=function(t,n,a){e.dayList=function(){for(var i=[],r=0,o=new Date(t+"-"+(n+1)+"-1"),s=o.getDay()?o.getDay():7,l=u(t,n+1);42>r;){var d=r>=s-1&&l+(s-1)>r?r-(s-2):"",f=d?c(t,n,d):"d",m={val:d,"class":f};i.push(m),m.val===a&&(e.repeatData.day=m),r+=1}return i}()},e.mBefore=function(){var t=e.curDate.getMonth()-1;0>t&&(e.curDate.setFullYear(e.curDate.getFullYear()-1),t=11),e.curDate.setMonth(t),e.reset()},e.mAfter=function(){var t=e.curDate.getMonth()+1;t>11&&(e.curDate.setFullYear(e.curDate.getFullYear()+1),t=0),e.curDate.setMonth(t),e.reset()},e.change=function(n){angular.forEach(n,function(n,i){switch(i){case"year":e.curDate.setFullYear(n.val),e.reset();break;case"month":e.curDate.setMonth(n.val),e.reset();break;case"day":n["class"].match(/d-able|d-now/)&&(e.curDate.setDate(n.val),e.setValue(e.curDate),e.timeFlag?e.reset():(t.remove(),a.cancel(r.clockTimer)));break;case"hour":e.curDate.setHours(n.val),e.initValue&&(e.setValue(e.curDate),e.reset());break;case"minute":e.curDate.setMinutes(n.val),e.initValue&&(e.setValue(e.curDate),e.reset())}})},e.clear=function(n,i,o){var s=n||new Date;e.setData(e.newDate,s),e.setData(e.curDate,s),e.value=i||"",e.reset(),o||(t.remove(),a.cancel(r.clockTimer))},e.clearValue=function(){e.clear(),"function"==typeof r.onClear&&r.onClear()},e.today=function(){var t=new Date;e.clear(t,d(t,e.formatType))},e.cancel=function(){e.initValue?(e.setValue(e.oldDate),e.reset()):e.clear(),t.remove(),a.cancel(r.clockTimer)},e.stopPropagation=function(e){e.stopPropagation()},e.setData=function(e,t){e.setFullYear(t.getFullYear()),e.setMonth(t.getMonth()),e.setDate(t.getDate()),e.setHours(t.getHours()),e.setMinutes(t.getMinutes())},e.setValue=function(t){e.setData(e.newDate,t),e.setData(e.curDate,t),e.value=d(e.newDate,e.formatType)},e.reset=function(){var t=e.curDate.getFullYear(),n=e.curDate.getMonth(),a=e.curDate.getDate(),i=e.curDate.getHours(),r=e.curDate.getMinutes();e.setSelect(t,n,i,r),e.setDay(t,n,a)},e.clock=function(){var t=new Date;e.clockString=o(t.getHours(),2)+":"+o(t.getMinutes(),2)+":"+o(t.getSeconds(),2)},e.locate=function(){var n=angular.element(window).width(),a=angular.element(window).height(),i=t.width(),r=t.height(),o=t.prev().height(),s=t.parent().offset().top-angular.element(window).scrollTop(),c=a-(s+o),l=t.parent().offset().left,u=n-(l+i),d=0,f=0,m=function(e,t,n,a){return t+n>a&&(e=a-(t+n+10),-t>e&&(e=-t)),e},h=function(a){f=m(f,l,i,n),t.addClass(a).css({left:f}),e.config.position?(t.css({bottom:30}),t.find(".arrow-ic").css({left:20})):t.find(".arrow-ic").css({left:-f+20})},p=function(e){d=m(d,s,r,a),t.addClass(e).css({top:d}),t.find(".arrow-ic").css({top:-d+o/2})},g=function(e){l+i>n&&l>i?p("dtt-w-l-sty"):i/2>l&&u>i?p("dtt-w-r-sty"):h(e)},v=function(e){p(e)};if(e.config.position)switch(f=-(28-e.config.targetElement.width()/2),e.config.position){case"top":g("dtt-w-t-sty");break;case"bottom":g("dtt-w-b-sty");break;case"left":v("dtt-w-l-sty");break;case"right":v("dtt-w-r-sty")}else c>=r?g("dtt-w-b-sty"):s>=r?g("dtt-w-t-sty"):v(l>u?"dtt-w-l-sty":"dtt-w-r-sty")},e.run=function(){e.initValue=e.value;var t=e.value?new Date(e.value.replace(/-|\./g,"/")):new Date;if(!angular.isDate(t))return void console.error("oldDate is not Date Object");e.value?(e.setData(e.oldDate,t),e.clear(t,d(t,e.formatType),"init")):e.clear(t,"","init");var i=e.oldDate.getFullYear(),o=e.oldDate.getMonth(),s=e.oldDate.getDate(),c=e.oldDate.getHours(),l=e.oldDate.getMinutes();e.setSelect(i,o,c,l),e.setDay(i,o,s),n(e.locate,80),e.timeFlag&&(e.clock(),a.cancel(r.clockTimer),r.clockTimer=a(e.clock,1e3))},e.run()}]}}),module.factory("datetimeService",function(){return{}}),module.directive("pagination",function(){return{template:'<div class="page-bar" ng-show="list.length>0"><a href="javascript:;" ng-class="current<=0?\'disabled\':\'\'" ng-click="prev()"><em class="emic">&lt;</em><em class="emf">上一页</em></a><a href="javascript:;" ng-repeat="key in keyList" ng-class="key==current ? \'cur\' : \'\'" ng-click="jump(key)">{{key+1}}</a><span ng-show="pLen>pMax && !hideEllipsis">...</span><a href="javascript:;" ng-class="current>=pLen-1?\'disabled\':\'\'" ng-click="next()"><em class="emf">下一页</em><em class="emic">&gt;</em></a><span class="jump-bar"><span>共<font class="blue-c">{{pLen}}</font>页</span><span>跳到 <input type="text" style="width:38px;height:19px;text-align:center;" ng-model="goKey"> 页</span><a href="" ng-click="go(goKey)">GO</a></span></div>',restrict:"E",replace:!0,transclude:!0,scope:{list:"=list",pagefn:"=pagefn",pageargs:"=pageargs",deepwatch:"="},controller:["$scope","$element","$attrs","service",function(e,t,n,a){e.$watch("pageargs",function(t,n){t&&(e.current=parseInt(e.pageargs.pn)-1,e.pageNode=e.current,e.pNum=parseInt(e.pageargs.ps),e.pMax=parseInt(e.pageargs.pl)||5,e.pagefn(e.pageargs,function(t){e.pLen=Math.ceil(parseInt(t.pa.total)/e.pNum),e.keyListWatch()}))},e.deepwatch),e.reKeyList=function(t,n,a){e.keyList=[];for(var i=t;n>i&&!(i>=a);i++)e.hideEllipsis=i+1==e.pLen,e.keyList.push(i)},e.keyListWatch=function(){var t=e.pLen;if(t>e.pMax){var n=Math.ceil(e.pMax/2),a=e.current;a>=n&&a<t-(e.pMax-n)?e.reKeyList(a-(e.pMax-n),a+n,t):a>=t-(e.pMax-n)?e.reKeyList(t-e.pMax,t,t):n>=a&&e.reKeyList(0,t,e.pMax)}else e.reKeyList(0,t,e.pMax)},e.jump=function(t){e.pageNode!=t&&(e.current=t,e.pageNode=t,e.pageargs.pn=t+1,e.pagefn(e.pageargs,function(t){e.pLen=Math.ceil(parseInt(t.pa.total)/e.pNum),e.keyListWatch()}))},e.next=function(){e.current++,e.current>=e.pLen&&(e.current=e.pLen-1),e.jump(e.current)},e.prev=function(){e.current--,e.current<=0&&(e.current=0),e.jump(e.current)},e.go=function(t){var n=/^-?\d+$/g;void 0==t||t.length<=0?a.dialog.alert("输入不能为空！",{}):n.test(t)?(parseInt(t)>e.pLen?(t=e.pLen,a.dialog.alert("总共只有"+e.pLen+"页，为您转到最后一页！",{})):parseInt(t)<=0&&(t=1,a.dialog.alert("不能低于第1页,为您转到最前一页！",{})),e.jump(parseInt(t)-1),e.goKey=void 0):t.match(/\s+/g)?a.dialog.alert("输入不能有空格符！",{}):a.dialog.alert("格式错误，请输入整数！",{})}}]}}),module.directive("defaultImg",function(){return{template:'<div class="default-img"><img class="hide" ng-src="{{src}}" ng-style="{{conf.style}}" alt="{{alt}}"></div>',restrict:"E",replace:!0,transclude:!0,scope:{alt:"=",src:"=src",conf:"=conf"},controller:["$scope","$element","$attrs",function(e,t,n){var a=e.conf||{},i=t.find("img");a.width&&(t.width(a.width),i.width(a.width)),a.height&&(t.height(a.height),i.height(a.height)),i.on({load:function(){i.removeClass("hide")}}),e.$watch("src",function(e,t){e||i.addClass("hide")})}]}});