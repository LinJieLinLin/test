<!DOCTYPE html>
<html lang="en" ng-app="RCP">

<head>
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <title>实名认证</title>
    <meta name="keywords" content="实名认证"/>
    <meta name="description" content="实名认证"/>

    <script src="../config-dy/config-dy.js"></script>
    <!-- build:css apply-space/apply-space.min.css -->
    <!-- lib -->
    <link rel="stylesheet" href="../cropper/dist/cropper.css">
    <!-- common -->
    <link rel="stylesheet" href="../rcp-common/styles/common.css"/>
    <link rel="stylesheet" href="../rcp-common/styles/font-awesome.css">
    <!-- directive -->
    <link rel="stylesheet" href="../rcp-common/directive/common/common-dir.css"/>
    <link rel="stylesheet" href="../rcp-common/directive/head-tail/head-tail-dir.css">
    <link rel="stylesheet" href="../rcp-common/directive/upload-img-base64/upload-img-base64.css">
    <link rel="stylesheet" href="directive/agreement/agreement.css"/>
    <!-- the page -->
    <link rel="stylesheet" href="apply-space/apply-space.css"/>
    <!-- endbuild -->
</head>

<body ng-controller="mainCtrl">
<headnav item-list="itemList" user="user"></headnav>
<div class="apply-space" ng-controller="applySpaceCtrl">
    <div class="h20"></div>
    <div class="b-wid">
        <section class="b-l">
            <div ng-show="verifyLoaded">
                <div class="l-w odd">
                    <div class="h20"></div>
                    <div class="l-fs-24">
                        实名认证
                    </div>
                    <div class="h20"></div>
                    <div class="l-tab">
                        <div class="ball-1" ng-click="toStep(0)">
                            <div class="ball" ng-class="{'bg-blue':step<1,'c-pointer': step < 2}">
                                <div ng-show="step>0" class="i-check"><i class="image-check"></i></div>
                                <span ng-hide="step>0">1</span>
                            </div>
                        </div>
                        <div class="ball-2">
                            <div class="ball" ng-class="{'bg-blue':step==1}">
                                <div ng-show="step>1" class="i-check"><i class="image-check"></i></div>
                                <span ng-hide="step>1">2</span>
                            </div>
                        </div>
                        <div class="ball-3">
                            <div class="ball" ng-class="{'bg-blue':step>1}">3</div>
                        </div>
                        <div class="f-l l-tab-1 l-tab-one" ng-click="toStep(0)" ng-class="{'bg-blue':step<1,'c-pointer': step<2}">签订实名认证协议书</div>
                        <div class="f-l l-tab-1" ng-class="{'bg-blue':step==1}">提交资料</div>
                        <div class="f-l l-tab-1 l-tab-three" ng-class="{'bg-blue':step>1}">系统审核</div>
                        <div class="clear"></div>
                    </div>
                    <div class="h20"></div>
                </div>
                <section ng-show="step<1" class="odd l-w">
                    <agreement></agreement>
                    <div class="l-reading mg-t30">
                        <label>
                            <input type="checkbox" name="" ng-model="agree"/> 我已阅读并同意相关协议
                        </label>
                    </div>
                    <div class="l-btn l-bnt-one" ng-class="{'bg-disable':!agree}" ng-click="toStep(1)">下一步</div>
                    <div class="h50"></div>
                </section>
                <section ng-show="step > 0">
                    <div class="l-step-title">
                        身份证明
                    </div>
                    <div class="separate"></div>
                    <div class="auth-tips" ng-show="step > 1" ng-class="tips.style">
                        <i class="fa fa-3x" ng-class="tips.icon" aria-hidden="true"></i>
                        <span class="text">{{tips.text}}</span>
                        <p class="reason" ng-show="!!tips.reason && curStatus == 2">{{'理由：' + tips.reason}}</p>
                    </div>
                    <form name="u">
                        <div id="info" class="l-w odd info pd-b85">
                            <div class="info-body">
                                <div class="l-id-info">
                                    <div class="l-input-text">
                                        <label>
                                            <div class="l-input-name">
                                                <span class="red">*</span>姓名：
                                            </div>
                                            <input type="text" name="realName" value="" ng-model="data.realName" maxlength="16" ng-focus="realName=1" ng-blur="realName=-1" ng-pattern="regExp.realName" ng-change="saveData('realName', $event)" placeholder="真实姓名，需与身份证一致" required/>
                                        </label>
                                        <div ng-show="realName==1 && step == 1" class="l-input-tips">
                                            <i class="fa fa-info-circle blue"> </i>
                                        </div>
                                        <div ng-show="(u.realName.$error.pattern==true) && realName==-1 && step == 1"class="l-input-tips">
                                            <i class="fa fa-exclamation-circle red"></i><span class="red">请正确填写</span>
                                        </div>
                                        <div ng-show="u.realName.$error.pattern==false && realName==-1 && step == 1" class="l-input-tips">
                                        <span ng-show="!data.realName">
                                            <i class="fa fa-exclamation-circle red"></i><span class="red">不能为空</span>
                                        </span>
                                            <i ng-show="data.realName" class="fa fa-check-circle green"></i>
                                        </div>
                                        <div class="clear"></div>
                                    </div>
                                    <div class="l-input-text">
                                        <label>
                                            <div class="l-input-name">
                                                <span class="red">*</span>手机：
                                            </div>
                                            <input type="text" name="phone" value="" ng-model="data.phone" maxlength="11" ng-focus="phone=1" ng-blur="phone=-1" ng-pattern="regExp.phone" ng-change="saveData('phone', $event)" placeholder="请填写真实手机号" required/>
                                        </label>
                                        <div ng-show="phone==1 && step == 1" class="l-input-tips">
                                            <i class="fa fa-info-circle blue"> </i><span class="blue">请输入11位数字</span>
                                        </div>
                                        <div ng-show="(u.phone.$error.pattern==true) && phone==-1 && step == 1" class="l-input-tips">
                                            <i class="fa fa-exclamation-circle red"></i><span class="red">请正确填写</span>
                                        </div>
                                        <div ng-show="u.phone.$error.pattern==false && phone==-1 && step == 1" class="l-input-tips">
                                        <span ng-show="!data.phone">
                                            <i class="fa fa-exclamation-circle red"></i><span class="red">不能为空</span>
                                        </span>
                                            <i ng-show="data.phone" class="fa fa-check-circle green"></i>
                                        </div>
                                        <div class="clear"></div>
                                    </div>
                                    <div class="l-input-text">
                                        <label>
                                            <div class="l-input-name">
                                                <span class="red">*</span>身份证号：
                                            </div>
                                            <input type="text" name="idCardNo" value="" ng-model="data.idCardNo" maxlength="18" ng-focus="idCardNo=1" ng-blur="idCardNo=-1" ng-pattern="regExp.idCardNo" ng-change="saveData('idCardNo', $event)" placeholder="请填写真实身份证号" required/>
                                        </label>
                                        <div ng-show="idCardNo==1 && step == 1" class="l-input-tips">
                                            <i class="fa fa-info-circle blue"> </i><span class="blue">请输入数字、X或x</span>
                                        </div>
                                        <div ng-show="(u.idCardNo.$error.pattern==true) && idCardNo==-1 && step == 1" class="l-input-tips">
                                            <i class="fa fa-exclamation-circle red"></i><span class="red">请正确填写</span>
                                        </div>
                                        <div ng-show="u.idCardNo.$error.pattern==false && idCardNo==-1 && step == 1" class="l-input-tips">
                                        <span ng-show="!data.idCardNo">
                                            <i class="fa fa-exclamation-circle red"></i><span class="red">不能为空</span>
                                        </span>
                                            <i ng-show="data.idCardNo" class="fa fa-check-circle green"></i>
                                        </div>
                                        <div class="clear"></div>
                                    </div>
                                    <div class="l-input-text">
                                        <label>
                                            <div class="l-input-name">
                                                <span class="red">*</span>身份证：
                                            </div>
                                            <div class="f-l">
                                                <div class="upload-img" ng-class="{'c-p': step < 2}" ng-mouseover="frontCancle = 1" ng-mouseleave="frontCancle = 0">
                                                    <p class="cross" ng-click="uploadIdCard(0)">+</p>
                                                    <p class="text"  ng-click="uploadIdCard(0)">身份证正面照片</p>
                                                    <img src="" alt="" ng-show="!!data.idCardFront" ng-src="{{data.idCardFront}}" ng-click="uploadIdCard(0)">
                                                    <i class="fa fa-times fa-2x cancle" aria-hidden="true" ng-show="step < 2 && data.idCardFront && frontCancle" ng-click="data.idCardFront = ''"></i>
                                                </div>
                                                <div class="upload-img mg-t18" ng-class="{'c-p': step < 2}"  ng-mouseover="backCancle = 1" ng-mouseleave="backCancle = 0">
                                                    <p class="cross" ng-click="uploadIdCard(1)">+</p>
                                                    <p class="text" ng-click="uploadIdCard(1)">身份证反面照片</p>
                                                    <img src="" alt="" ng-show="!!data.idCardBack" ng-src="{{data.idCardBack}}" ng-click="uploadIdCard(1)">
                                                    <i class="fa fa-times fa-2x cancle" aria-hidden="true" ng-show="step < 2 && data.idCardBack && backCancle" ng-click="data.idCardBack = ''"></i>
                                                </div>
                                            </div>
                                            <div class="clear"></div>
                                        </label>
                                        <div class="clear"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="mg-t35">
                                <div ng-show="step == 1" class="l-btn l-bnt-two odd" ng-class="{'bg-disable': !u.$valid || !data.idCardBack || !data.idCardFront}" ng-click="submitData()">提交资料</div>
                                <div ng-show="step > 1 && curStatus == 2" class="l-btn l-bnt-two odd" ng-click="toStep(1)">重新认证</div>
                            </div>
                        </div>
                    </form>
                </section>
            </div>
            <loader-ui show="verifyLoaded"></loader-ui>
        </section>
        <section class="b-r">
            <section id="problem" class="r-border">
                <div class="r-title">
                    <i class="fa fa-info-circle i-c"></i>
                    <span>常见问题</span>
                </div>
                <div ng-repeat="pro in problems" class="pro-list" ng-class-odd="'odd'" ng-class-even="'even'">
                    <div class="text-of">
                        <a ng-href="{{pro.href}}">{{pro.title}}</a>
                    </div>
                </div>
            </section>
            <section id="teacher-show" class="r-border mg-t20">
                <div class="r-title">
                    <div class="image-teacher-show i-teacher"></div>
                    <span>优秀实名主页展示</span>
                </div>
                <div class="teacher-list odd">
                    <div ng-repeat="t in teacherData" class="f-l" style="width:50%;">
                        <div class="r-img"><img alt="" ng-src="{{t.img}}"/></div>
                    </div>
                    <div class="clear"></div>
                </div>
            </section>
        </section>
        <div class="clear"></div>
    </div>
    <upload-img-base upload-config="uploadConfig"></upload-img-base>
</div>
<tailnav></tailnav>

<!-- lib -->
<script src="../rcp-common/service/lib-default.min.js"></script>
<!-- lib end -->
<!-- build:js apply-space/apply-space.min.js -->
<!-- lib -->
<script src="../cropper/dist/cropper.js"></script>
<!-- js -->
<script src="apply-space/apply-space.js"></script>
<script src="../rcp-common/module/main/main-ctrl.js"></script>
<!-- local directive -->
<script src="directive/agreement/agreement.js"></script>
<!-- service -->
<script src="service/sso.js"></script>
<!-- directive   -->
<script src="../rcp-common/directive/head-tail/head-tail-dir.js"></script>
<script src="../rcp-common/directive/upload/upload-img.js"></script>
<script src="../rcp-common/directive/upload-img-base64/upload-img-base64.js"></script>
<!-- endbuild -->
<!-- service -->
<script src="../rcp-common/service/service.min.js"></script>
</body>

</html>
